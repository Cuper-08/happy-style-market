
> vite_react_shadcn_ts@0.0.0 lint
> eslint . --format json

[{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\eslint.config.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\postcss.config.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\App.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\components\\NavLink.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\components\\ScrollToTop.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\components\\admin\\AdminHeader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\components\\admin\\AdminMobileHeader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\components\\admin\\AdminSidebar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\components\\admin\\AlertsPanel.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\components\\admin\\AnimatedPage.tsx","messages":[{"ruleId":"react-refresh/only-export-components","severity":1,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":48,"column":14,"nodeType":"Identifier","messageId":"namedExport","endLine":48,"endColumn":40},{"ruleId":"react-refresh/only-export-components","severity":1,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":58,"column":14,"nodeType":"Identifier","messageId":"namedExport","endLine":58,"endColumn":35}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { ReactNode } from 'react';\r\nimport { motion, Variants, Easing } from 'framer-motion';\r\n\r\ninterface AnimatedPageProps {\r\n  children: ReactNode;\r\n  className?: string;\r\n}\r\n\r\nconst easeOut: Easing = [0.4, 0, 0.2, 1];\r\n\r\nconst pageVariants: Variants = {\r\n  initial: {\r\n    opacity: 0,\r\n    y: 20,\r\n  },\r\n  animate: {\r\n    opacity: 1,\r\n    y: 0,\r\n    transition: {\r\n      duration: 0.3,\r\n      ease: easeOut,\r\n    },\r\n  },\r\n  exit: {\r\n    opacity: 0,\r\n    y: -10,\r\n    transition: {\r\n      duration: 0.2,\r\n    },\r\n  },\r\n};\r\n\r\nexport function AnimatedPage({ children, className }: AnimatedPageProps) {\r\n  return (\r\n    <motion.div\r\n      variants={pageVariants}\r\n      initial=\"initial\"\r\n      animate=\"animate\"\r\n      exit=\"exit\"\r\n      className={className}\r\n    >\r\n      {children}\r\n    </motion.div>\r\n  );\r\n}\r\n\r\n// Staggered list animation helper\r\nexport const staggerContainer: Variants = {\r\n  hidden: { opacity: 0 },\r\n  show: {\r\n    opacity: 1,\r\n    transition: {\r\n      staggerChildren: 0.05,\r\n    },\r\n  },\r\n};\r\n\r\nexport const staggerItem: Variants = {\r\n  hidden: { opacity: 0, y: 10 },\r\n  show: { \r\n    opacity: 1, \r\n    y: 0,\r\n    transition: {\r\n      duration: 0.2,\r\n    },\r\n  },\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\components\\admin\\BulkImportModal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\components\\admin\\BulkUpdateModal.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":94,"column":42,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":94,"endColumn":45,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2960,2963],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2960,2963],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useCallback } from 'react';\r\nimport {\r\n  Dialog, DialogContent, DialogHeader, DialogTitle, DialogDescription, DialogFooter,\r\n} from '@/components/ui/dialog';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Input } from '@/components/ui/input';\r\nimport { Label } from '@/components/ui/label';\r\nimport { ScrollArea } from '@/components/ui/scroll-area';\r\nimport { Badge } from '@/components/ui/badge';\r\nimport { Upload, Loader2, AlertCircle, CheckCircle2, Plus } from 'lucide-react';\r\nimport { parseUpdateCSV, type ProductDiff } from '@/components/admin/csvTemplate';\r\nimport { useBulkUpdateProducts, type ProductChange } from '@/hooks/admin/useBulkUpdate';\r\n\r\ninterface CurrentProduct {\r\n  id: string;\r\n  name: string;\r\n  retail_price: number;\r\n  wholesale_price?: number;\r\n  wholesale_min_qty: number;\r\n  featured: boolean;\r\n  is_new: boolean;\r\n  is_active: boolean;\r\n  variants?: { id: string; size: string; color?: string; color_hex?: string; stock_quantity: number; sku?: string }[];\r\n}\r\n\r\ninterface BulkUpdateModalProps {\r\n  open: boolean;\r\n  onOpenChange: (open: boolean) => void;\r\n  products: CurrentProduct[];\r\n}\r\n\r\nconst fieldLabels: Record<string, string> = {\r\n  retail_price: 'Pre├ºo Varejo',\r\n  wholesale_price: 'Pre├ºo Atacado',\r\n  wholesale_min_qty: 'Qtd M├¡n. Atacado',\r\n  featured: 'Destaque',\r\n  is_new: 'Novo',\r\n  is_active: 'Ativo',\r\n  size: 'Tamanho',\r\n  color: 'Cor',\r\n  color_hex: 'Hex Cor',\r\n  stock_quantity: 'Estoque',\r\n  sku: 'SKU',\r\n};\r\n\r\nexport function BulkUpdateModal({ open, onOpenChange, products }: BulkUpdateModalProps) {\r\n  const [diffs, setDiffs] = useState<ProductDiff[]>([]);\r\n  const [errors, setErrors] = useState<string[]>([]);\r\n  const [step, setStep] = useState<'upload' | 'review'>('upload');\r\n  const bulkUpdate = useBulkUpdateProducts();\r\n\r\n  const reset = useCallback(() => {\r\n    setDiffs([]);\r\n    setErrors([]);\r\n    setStep('upload');\r\n  }, []);\r\n\r\n  const handleClose = (val: boolean) => {\r\n    if (!val) reset();\r\n    onOpenChange(val);\r\n  };\r\n\r\n  const handleFile = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const file = e.target.files?.[0];\r\n    if (!file) return;\r\n\r\n    const reader = new FileReader();\r\n    reader.onload = (ev) => {\r\n      const content = ev.target?.result as string;\r\n      const { diffs: parsed, errors: errs } = parseUpdateCSV(content, products);\r\n      setDiffs(parsed);\r\n      setErrors(errs);\r\n      setStep('review');\r\n    };\r\n    reader.readAsText(file, 'UTF-8');\r\n    e.target.value = '';\r\n  };\r\n\r\n  const handleConfirm = () => {\r\n    const changes: ProductChange[] = diffs.map(d => ({\r\n      id: d.id,\r\n      changes: d.changes,\r\n      variantChanges: d.variantDiffs.map(vd => ({\r\n        variant_id: vd.variant_id,\r\n        changes: vd.changes,\r\n      })),\r\n      newVariants: d.newVariants,\r\n    }));\r\n    bulkUpdate.mutate(changes, {\r\n      onSuccess: () => handleClose(false),\r\n    });\r\n  };\r\n\r\n  const formatValue = (key: string, val: any) => {\r\n    if (typeof val === 'boolean') return val ? 'Sim' : 'N├úo';\r\n    if (key.includes('price')) return `R$ ${Number(val).toFixed(2)}`;\r\n    return String(val);\r\n  };\r\n\r\n  const totalChanges = diffs.reduce(\r\n    (acc, d) => acc + Object.keys(d.changes).length + d.variantDiffs.length + d.newVariants.length,\r\n    0\r\n  );\r\n\r\n  return (\r\n    <Dialog open={open} onOpenChange={handleClose}>\r\n      <DialogContent className=\"max-w-lg\">\r\n        <DialogHeader>\r\n          <DialogTitle>Atualizar Produtos via CSV</DialogTitle>\r\n          <DialogDescription>\r\n            {step === 'upload'\r\n              ? 'Envie o CSV exportado com as altera├º├Áes desejadas.'\r\n              : `${diffs.length} produto(s) com ${totalChanges} altera├º├úo(├Áes).`}\r\n          </DialogDescription>\r\n        </DialogHeader>\r\n\r\n        {step === 'upload' && (\r\n          <div className=\"space-y-4\">\r\n            <div>\r\n              <Label htmlFor=\"csv-update-file\">Arquivo CSV</Label>\r\n              <Input id=\"csv-update-file\" type=\"file\" accept=\".csv\" onChange={handleFile} className=\"mt-1\" />\r\n            </div>\r\n            <p className=\"text-xs text-muted-foreground\">\r\n              Use o arquivo gerado por \"Exportar Produtos\". Edite os campos desejados e envie de volta.\r\n            </p>\r\n          </div>\r\n        )}\r\n\r\n        {step === 'review' && (\r\n          <div className=\"space-y-3\">\r\n            {errors.length > 0 && (\r\n              <div className=\"rounded-md bg-destructive/10 p-3 space-y-1\">\r\n                <div className=\"flex items-center gap-2 text-destructive text-sm font-medium\">\r\n                  <AlertCircle className=\"h-4 w-4\" />\r\n                  Avisos\r\n                </div>\r\n                {errors.map((err, i) => (\r\n                  <p key={i} className=\"text-xs text-destructive\">{err}</p>\r\n                ))}\r\n              </div>\r\n            )}\r\n\r\n            {diffs.length === 0 ? (\r\n              <div className=\"flex flex-col items-center py-6 text-center\">\r\n                <CheckCircle2 className=\"h-10 w-10 text-muted-foreground mb-2\" />\r\n                <p className=\"text-sm text-muted-foreground\">\r\n                  Nenhuma diferen├ºa encontrada.\r\n                </p>\r\n              </div>\r\n            ) : (\r\n              <ScrollArea className=\"max-h-[300px]\">\r\n                <div className=\"space-y-3\">\r\n                  {diffs.map((diff) => (\r\n                    <div key={diff.id} className=\"rounded-md border p-3 space-y-2\">\r\n                      <p className=\"font-medium text-sm\">{diff.name}</p>\r\n                      {Object.keys(diff.changes).length > 0 && (\r\n                        <div className=\"flex flex-wrap gap-1\">\r\n                          {Object.entries(diff.changes).map(([key, newVal]) => (\r\n                            <Badge key={key} variant=\"outline\" className=\"text-xs\">\r\n                              {fieldLabels[key] || key}: {formatValue(key, diff.oldValues[key])} ÔåÆ {formatValue(key, newVal)}\r\n                            </Badge>\r\n                          ))}\r\n                        </div>\r\n                      )}\r\n                      {diff.variantDiffs.length > 0 && (\r\n                        <div className=\"space-y-1\">\r\n                          {diff.variantDiffs.map((vd, i) => (\r\n                            <div key={i} className=\"flex flex-wrap items-center gap-1\">\r\n                              <span className=\"text-xs text-muted-foreground\">{vd.label}:</span>\r\n                              {Object.entries(vd.changes).map(([key, newVal]) => (\r\n                                <Badge key={key} variant=\"secondary\" className=\"text-xs\">\r\n                                  {fieldLabels[key] || key}: {String(vd.oldValues[key])} ÔåÆ {String(newVal)}\r\n                                </Badge>\r\n                              ))}\r\n                            </div>\r\n                          ))}\r\n                        </div>\r\n                      )}\r\n                      {diff.newVariants.length > 0 && (\r\n                        <div className=\"space-y-1\">\r\n                          {diff.newVariants.map((nv, i) => (\r\n                            <div key={i} className=\"flex items-center gap-1\">\r\n                              <Plus className=\"h-3 w-3 text-primary\" />\r\n                              <Badge variant=\"secondary\" className=\"text-xs bg-accent\">\r\n                                Nova variante: Tam {nv.size}\r\n                              </Badge>\r\n                            </div>\r\n                          ))}\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </ScrollArea>\r\n            )}\r\n          </div>\r\n        )}\r\n\r\n        <DialogFooter>\r\n          {step === 'review' && (diffs.length > 0) && (\r\n            <Button onClick={handleConfirm} disabled={bulkUpdate.isPending}>\r\n              {bulkUpdate.isPending ? (\r\n                <><Loader2 className=\"h-4 w-4 mr-2 animate-spin\" />Atualizando...</>\r\n              ) : (\r\n                <><Upload className=\"h-4 w-4 mr-2\" />Confirmar {totalChanges} altera├º├úo(├Áes)</>\r\n              )}\r\n            </Button>\r\n          )}\r\n          {step === 'review' && (\r\n            <Button variant=\"outline\" onClick={reset}>Voltar</Button>\r\n          )}\r\n        </DialogFooter>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\components\\admin\\ImageUploader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\components\\admin\\OrderStatusBadge.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\components\\admin\\OrderStatusSelect.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\components\\admin\\QuickActions.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\components\\admin\\SalesChart.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\components\\admin\\StatCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\components\\admin\\colorDictionary.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\components\\admin\\csvExportProducts.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\components\\admin\\csvTemplate.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":93,"column":27,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":93,"endColumn":30,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2484,2487],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2484,2487],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":94,"column":29,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":94,"endColumn":32,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2519,2522],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2519,2522],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":101,"column":27,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":101,"endColumn":30,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2664,2667],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2664,2667],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":102,"column":29,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":102,"endColumn":32,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2699,2702],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2699,2702],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":160,"column":35,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":160,"endColumn":38,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4609,4612],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4609,4612],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":161,"column":37,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":161,"endColumn":40,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4657,4660],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4657,4660],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":229,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":229,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[7178,7181],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[7178,7181],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":230,"column":36,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":230,"endColumn":39,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[7225,7228],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[7225,7228],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":8,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { extractColorFromName } from './colorDictionary';\r\n\r\nexport function downloadCSVTemplate() {\r\n  const separator = ';';\r\n  const headers = [\r\n    'nome', 'slug', 'descricao', 'categoria', 'marca',\r\n    'preco_varejo', 'preco_atacado', 'qtd_min_atacado',\r\n    'destaque', 'novo', 'ativo',\r\n    'tamanho', 'cor', 'cor_hex', 'estoque', 'sku',\r\n  ];\r\n\r\n  const exampleRows = [\r\n    [\r\n      'Tenis Exemplo', 'tenis-exemplo', 'Descricao do produto', 'Tenis', 'Nike',\r\n      '299.90', '199.90', '6', 'sim', 'sim', 'sim',\r\n      '38,39,40,41,42', 'Preto', '#000000', '50', '',\r\n    ],\r\n    [\r\n      'Camiseta Basica', 'camiseta-basica', 'Camiseta algodao', 'Camisetas', 'Adidas',\r\n      '89.90', '59.90', '6', 'nao', 'sim', 'sim',\r\n      'P,M,G,GG', 'Preto,Branco', '#000000,#FFFFFF', '30', '',\r\n    ],\r\n  ];\r\n\r\n  const csvContent = [\r\n    headers.join(separator),\r\n    ...exampleRows.map(row => row.join(separator)),\r\n  ].join('\\n');\r\n\r\n  const BOM = '\\uFEFF';\r\n  const blob = new Blob([BOM + csvContent], { type: 'text/csv;charset=utf-8;' });\r\n  const url = URL.createObjectURL(blob);\r\n  const link = document.createElement('a');\r\n  link.href = url;\r\n  link.download = 'modelo_produtos.csv';\r\n  link.click();\r\n  URL.revokeObjectURL(url);\r\n}\r\n\r\nfunction generateSlug(name: string): string {\r\n  return name\r\n    .toLowerCase()\r\n    .normalize('NFD')\r\n    .replace(/[\\u0300-\\u036f]/g, '')\r\n    .replace(/[^a-z0-9]+/g, '-')\r\n    .replace(/^-|-$/g, '');\r\n}\r\n\r\nexport interface ParsedVariant {\r\n  size: string;\r\n  color?: string;\r\n  color_hex?: string;\r\n  stock_quantity: number;\r\n  sku?: string;\r\n}\r\n\r\nexport interface ParsedProduct {\r\n  name: string;\r\n  slug: string;\r\n  description?: string;\r\n  categoryName?: string;\r\n  brandName?: string;\r\n  retail_price: number;\r\n  wholesale_price?: number;\r\n  wholesale_min_qty?: number;\r\n  featured: boolean;\r\n  is_new: boolean;\r\n  is_active: boolean;\r\n  variants: ParsedVariant[];\r\n  errors: string[];\r\n  category_id?: string;\r\n  brand_id?: string;\r\n}\r\n\r\nexport interface ParseResult {\r\n  products: ParsedProduct[];\r\n  newCategories: string[];\r\n  newBrands: string[];\r\n}\r\n\r\nfunction parseBool(val: string): boolean {\r\n  return ['sim', 's', 'true', '1', 'yes'].includes(val.trim().toLowerCase());\r\n}\r\n\r\nfunction parseNumber(val: string): number {\r\n  return parseFloat(val.replace(',', '.')) || 0;\r\n}\r\n\r\n// --- Bulk Update CSV parsing ---\r\n\r\nexport interface VariantDiff {\r\n  variant_id?: string; // empty = new variant\r\n  changes: Record<string, any>;\r\n  oldValues: Record<string, any>;\r\n  label: string; // e.g. \"Tam 42 / Preto\"\r\n}\r\n\r\nexport interface ProductDiff {\r\n  id: string;\r\n  name: string;\r\n  changes: Record<string, any>;\r\n  oldValues: Record<string, any>;\r\n  variantDiffs: VariantDiff[];\r\n  newVariants: { size: string; color?: string; color_hex?: string; stock_quantity: number; sku?: string }[];\r\n}\r\n\r\ninterface CurrentProduct {\r\n  id: string;\r\n  name: string;\r\n  retail_price: number;\r\n  wholesale_price?: number;\r\n  wholesale_min_qty: number;\r\n  featured: boolean;\r\n  is_new: boolean;\r\n  is_active: boolean;\r\n  variants?: { id: string; size: string; color?: string; color_hex?: string; stock_quantity: number; sku?: string }[];\r\n}\r\n\r\nexport function parseUpdateCSV(\r\n  content: string,\r\n  currentProducts: CurrentProduct[],\r\n): { diffs: ProductDiff[]; errors: string[] } {\r\n  const lines = content.split(/\\r?\\n/).filter(l => l.trim());\r\n  if (lines.length < 2) return { diffs: [], errors: ['Arquivo vazio ou sem dados.'] };\r\n\r\n  const separator = lines[0].includes(';') ? ';' : ',';\r\n  const headers = lines[0].split(separator).map(h => h.trim().toLowerCase());\r\n\r\n  const col = (row: string[], name: string) => {\r\n    const idx = headers.indexOf(name);\r\n    return idx >= 0 ? (row[idx] || '').trim() : '';\r\n  };\r\n\r\n  const productMap = new Map(currentProducts.map(p => [p.id, p]));\r\n\r\n  // Group rows by product id\r\n  const rowsByProduct = new Map<string, string[][]>();\r\n  const errors: string[] = [];\r\n\r\n  for (let i = 1; i < lines.length; i++) {\r\n    const row = lines[i].split(separator);\r\n    const id = col(row, 'id');\r\n    if (!id) {\r\n      errors.push(`Linha ${i + 1}: ID vazio, ignorada.`);\r\n      continue;\r\n    }\r\n    if (!productMap.has(id)) {\r\n      errors.push(`Linha ${i + 1}: Produto com ID \"${id}\" n├úo encontrado.`);\r\n      continue;\r\n    }\r\n    if (!rowsByProduct.has(id)) rowsByProduct.set(id, []);\r\n    rowsByProduct.get(id)!.push(row);\r\n  }\r\n\r\n  const diffs: ProductDiff[] = [];\r\n\r\n  for (const [id, rows] of rowsByProduct) {\r\n    const current = productMap.get(id)!;\r\n    const firstRow = rows[0];\r\n    const changes: Record<string, any> = {};\r\n    const oldValues: Record<string, any> = {};\r\n\r\n    // Product-level diffs (from first row)\r\n    const csvRetail = parseNumber(col(firstRow, 'preco_varejo'));\r\n    if (csvRetail && csvRetail !== Number(current.retail_price)) {\r\n      changes.retail_price = csvRetail;\r\n      oldValues.retail_price = Number(current.retail_price);\r\n    }\r\n\r\n    const csvWholesale = parseNumber(col(firstRow, 'preco_atacado'));\r\n    const curWholesale = current.wholesale_price ? Number(current.wholesale_price) : 0;\r\n    if (col(firstRow, 'preco_atacado') && csvWholesale !== curWholesale) {\r\n      changes.wholesale_price = csvWholesale || null;\r\n      oldValues.wholesale_price = curWholesale;\r\n    }\r\n\r\n    const csvMinQty = parseInt(col(firstRow, 'qtd_min_atacado')) || 0;\r\n    if (col(firstRow, 'qtd_min_atacado') && csvMinQty !== current.wholesale_min_qty) {\r\n      changes.wholesale_min_qty = csvMinQty;\r\n      oldValues.wholesale_min_qty = current.wholesale_min_qty;\r\n    }\r\n\r\n    if (col(firstRow, 'destaque')) {\r\n      const csvFeatured = parseBool(col(firstRow, 'destaque'));\r\n      if (csvFeatured !== current.featured) {\r\n        changes.featured = csvFeatured;\r\n        oldValues.featured = current.featured;\r\n      }\r\n    }\r\n\r\n    if (col(firstRow, 'novo')) {\r\n      const csvNew = parseBool(col(firstRow, 'novo'));\r\n      if (csvNew !== current.is_new) {\r\n        changes.is_new = csvNew;\r\n        oldValues.is_new = current.is_new;\r\n      }\r\n    }\r\n\r\n    if (col(firstRow, 'ativo')) {\r\n      const csvActive = parseBool(col(firstRow, 'ativo'));\r\n      if (csvActive !== current.is_active) {\r\n        changes.is_active = csvActive;\r\n        oldValues.is_active = current.is_active;\r\n      }\r\n    }\r\n\r\n    // Variant-level diffs\r\n    const variantMap = new Map((current.variants || []).map(v => [v.id, v]));\r\n    const variantDiffs: VariantDiff[] = [];\r\n    const newVariants: ProductDiff['newVariants'] = [];\r\n\r\n    for (const row of rows) {\r\n      const variantId = col(row, 'variant_id');\r\n      const csvSize = col(row, 'tamanho');\r\n      const csvColor = col(row, 'cor');\r\n      const csvColorHex = col(row, 'cor_hex');\r\n      const csvStockStr = col(row, 'estoque');\r\n      const csvSku = col(row, 'sku');\r\n\r\n      if (!csvSize && !variantId) continue; // no variant data\r\n\r\n      if (variantId) {\r\n        const curVariant = variantMap.get(variantId);\r\n        if (!curVariant) {\r\n          errors.push(`Produto \"${current.name}\": variant_id \"${variantId}\" n├úo encontrada.`);\r\n          continue;\r\n        }\r\n\r\n        const vChanges: Record<string, any> = {};\r\n        const vOld: Record<string, any> = {};\r\n\r\n        if (csvSize && csvSize !== curVariant.size) {\r\n          vChanges.size = csvSize;\r\n          vOld.size = curVariant.size;\r\n        }\r\n        if (csvColor && csvColor !== (curVariant.color || '')) {\r\n          vChanges.color = csvColor;\r\n          vOld.color = curVariant.color || '';\r\n        }\r\n        if (csvColorHex && csvColorHex !== (curVariant.color_hex || '')) {\r\n          vChanges.color_hex = csvColorHex;\r\n          vOld.color_hex = curVariant.color_hex || '';\r\n        }\r\n        if (csvStockStr) {\r\n          const csvStock = parseInt(csvStockStr) || 0;\r\n          if (csvStock !== (curVariant.stock_quantity || 0)) {\r\n            vChanges.stock_quantity = csvStock;\r\n            vOld.stock_quantity = curVariant.stock_quantity || 0;\r\n          }\r\n        }\r\n        if (csvSku && csvSku !== (curVariant.sku || '')) {\r\n          vChanges.sku = csvSku;\r\n          vOld.sku = curVariant.sku || '';\r\n        }\r\n\r\n        if (Object.keys(vChanges).length > 0) {\r\n          variantDiffs.push({\r\n            variant_id: variantId,\r\n            changes: vChanges,\r\n            oldValues: vOld,\r\n            label: `Tam ${curVariant.size}${curVariant.color ? ' / ' + curVariant.color : ''}`,\r\n          });\r\n        }\r\n      } else if (csvSize) {\r\n        // New variant\r\n        newVariants.push({\r\n          size: csvSize,\r\n          color: csvColor || undefined,\r\n          color_hex: csvColorHex || undefined,\r\n          stock_quantity: parseInt(csvStockStr) || 0,\r\n          sku: csvSku || undefined,\r\n        });\r\n      }\r\n    }\r\n\r\n    // Auto-detect color for products with no variants at all\r\n    if (newVariants.length === 0 && variantDiffs.length === 0 && (!current.variants || current.variants.length === 0)) {\r\n      const autoColor = extractColorFromName(current.name);\r\n      if (autoColor) {\r\n        newVariants.push({\r\n          size: 'Unico',\r\n          color: autoColor.color,\r\n          color_hex: autoColor.color_hex,\r\n          stock_quantity: 0,\r\n        });\r\n      }\r\n    }\r\n\r\n    if (Object.keys(changes).length > 0 || variantDiffs.length > 0 || newVariants.length > 0) {\r\n      diffs.push({ id, name: current.name, changes, oldValues, variantDiffs, newVariants });\r\n    }\r\n  }\r\n\r\n  return { diffs, errors };\r\n}\r\n\r\nfunction normalize(str: string): string {\r\n  return str.toLowerCase().normalize('NFD').replace(/[\\u0300-\\u036f]/g, '').trim();\r\n}\r\n\r\nexport function parseCSV(\r\n  content: string,\r\n  categories: { id: string; name: string }[],\r\n  brands: { id: string; name: string }[],\r\n): ParseResult {\r\n  const lines = content.split(/\\r?\\n/).filter(l => l.trim());\r\n  if (lines.length < 2) return { products: [], newCategories: [], newBrands: [] };\r\n\r\n  const separator = lines[0].includes(';') ? ';' : ',';\r\n  const headers = lines[0].split(separator).map(h => h.trim().toLowerCase());\r\n\r\n  const col = (row: string[], name: string) => {\r\n    const idx = headers.indexOf(name);\r\n    return idx >= 0 ? (row[idx] || '').trim() : '';\r\n  };\r\n\r\n  const catMap = new Map(categories.map(c => [normalize(c.name), c.id]));\r\n  const brandMap = new Map(brands.map(b => [normalize(b.name), b.id]));\r\n  const newCategoriesSet = new Set<string>();\r\n  const newBrandsSet = new Set<string>();\r\n\r\n  const grouped = new Map<string, { rows: string[][] }>();\r\n\r\n  for (let i = 1; i < lines.length; i++) {\r\n    const row = lines[i].split(separator);\r\n    const name = col(row, 'nome');\r\n    if (!name) continue;\r\n\r\n    if (!grouped.has(name)) {\r\n      grouped.set(name, { rows: [] });\r\n    }\r\n    grouped.get(name)!.rows.push(row);\r\n  }\r\n\r\n  const products: ParsedProduct[] = [];\r\n  const usedSlugs = new Set<string>();\r\n\r\n  for (const [name, { rows }] of grouped) {\r\n    const first = rows[0];\r\n    const errors: string[] = [];\r\n\r\n    let slug = generateSlug(name);\r\n    if (usedSlugs.has(slug)) {\r\n      let counter = 2;\r\n      while (usedSlugs.has(`${slug}-${counter}`)) counter++;\r\n      slug = `${slug}-${counter}`;\r\n    }\r\n    usedSlugs.add(slug);\r\n    const categoryName = col(first, 'categoria');\r\n    const brandName = col(first, 'marca');\r\n    const retailPrice = parseNumber(col(first, 'preco_varejo'));\r\n\r\n    if (!name) errors.push('Nome obrigat├│rio');\r\n    if (!retailPrice) errors.push('Pre├ºo varejo obrigat├│rio');\r\n\r\n    const category_id = categoryName ? catMap.get(normalize(categoryName)) : undefined;\r\n    if (categoryName && !category_id) newCategoriesSet.add(categoryName);\r\n\r\n    const brand_id = brandName ? brandMap.get(normalize(brandName)) : undefined;\r\n    if (brandName && !brand_id) newBrandsSet.add(brandName);\r\n\r\n    // Auto-detect color from product name\r\n    const autoColor = extractColorFromName(name);\r\n\r\n    const variants: ParsedVariant[] = rows.flatMap(r => {\r\n      const rawSize = col(r, 'tamanho');\r\n      if (!rawSize) return [];\r\n\r\n      const sizes = rawSize.split(',').map(s => s.trim()).filter(Boolean);\r\n      const rawColor = col(r, 'cor');\r\n      const rawColorHex = col(r, 'cor_hex');\r\n      const colors = rawColor ? rawColor.split(',').map(s => s.trim()).filter(Boolean) : [];\r\n      const colorHexes = rawColorHex ? rawColorHex.split(',').map(s => s.trim()).filter(Boolean) : [];\r\n      const stock = parseInt(col(r, 'estoque')) || 0;\r\n      const csvSku = col(r, 'sku') || undefined;\r\n\r\n      // Build cartesian product of sizes x colors\r\n      if (colors.length > 0) {\r\n        const result: ParsedVariant[] = [];\r\n        for (const size of sizes) {\r\n          for (let ci = 0; ci < colors.length; ci++) {\r\n            result.push({\r\n              size,\r\n              color: colors[ci] || autoColor?.color || undefined,\r\n              color_hex: colorHexes[ci] || autoColor?.color_hex || undefined,\r\n              stock_quantity: stock,\r\n              sku: undefined, // SKU not applied for multi-variant rows\r\n            });\r\n          }\r\n        }\r\n        // Apply SKU only if exactly 1 variant resulted\r\n        if (result.length === 1 && csvSku) result[0].sku = csvSku;\r\n        return result;\r\n      }\r\n\r\n      // Single or multiple sizes, no multiple colors\r\n      const result: ParsedVariant[] = sizes.map(size => ({\r\n        size,\r\n        color: autoColor?.color || undefined,\r\n        color_hex: autoColor?.color_hex || undefined,\r\n        stock_quantity: stock,\r\n        sku: undefined,\r\n      }));\r\n      if (result.length === 1 && csvSku) result[0].sku = csvSku;\r\n      return result;\r\n    });\r\n\r\n    // If no variants from CSV but color detected in name, create a \"Unico\" variant\r\n    if (variants.length === 0 && autoColor) {\r\n      variants.push({\r\n        size: 'Unico',\r\n        color: autoColor.color,\r\n        color_hex: autoColor.color_hex,\r\n        stock_quantity: 0,\r\n      });\r\n    }\r\n\r\n    products.push({\r\n      name,\r\n      slug,\r\n      description: col(first, 'descricao') || undefined,\r\n      categoryName: categoryName || undefined,\r\n      brandName: brandName || undefined,\r\n      retail_price: retailPrice,\r\n      wholesale_price: parseNumber(col(first, 'preco_atacado')) || undefined,\r\n      wholesale_min_qty: parseInt(col(first, 'qtd_min_atacado')) || undefined,\r\n      featured: parseBool(col(first, 'destaque')),\r\n      is_new: parseBool(col(first, 'novo')),\r\n      is_active: col(first, 'ativo') ? parseBool(col(first, 'ativo')) : true,\r\n      variants,\r\n      errors,\r\n      category_id,\r\n      brand_id,\r\n    });\r\n  }\r\n\r\n  return {\r\n    products,\r\n    newCategories: Array.from(newCategoriesSet),\r\n    newBrands: Array.from(newBrandsSet),\r\n  };\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\components\\admin\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\components\\checkout\\PixQRCodeModal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\components\\home\\BenefitsMarquee.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\components\\home\\CategoryGrid.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\components\\home\\CategoryMarquee.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\components\\home\\HeroBanner.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\components\\home\\ProductSection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\components\\home\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\components\\layout\\Footer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\components\\layout\\Header.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\components\\layout\\Layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\components\\layout\\MobileNav.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\components\\layout\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\components\\product\\ProductCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\components\\product\\ProductGrid.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\components\\product\\ProductViewer360.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\components\\product\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\components\\pwa\\InstallBanner.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\components\\ui\\accordion.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\components\\ui\\alert-dialog.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\components\\ui\\alert.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\components\\ui\\aspect-ratio.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\components\\ui\\avatar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\components\\ui\\badge.tsx","messages":[{"ruleId":"react-refresh/only-export-components","severity":1,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":29,"column":17,"nodeType":"Identifier","messageId":"namedExport","endLine":29,"endColumn":30}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import * as React from \"react\";\r\nimport { cva, type VariantProps } from \"class-variance-authority\";\r\n\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nconst badgeVariants = cva(\r\n  \"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default: \"border-transparent bg-primary text-primary-foreground hover:bg-primary/80\",\r\n        secondary: \"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80\",\r\n        destructive: \"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80\",\r\n        outline: \"text-foreground\",\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: \"default\",\r\n    },\r\n  },\r\n);\r\n\r\nexport interface BadgeProps extends React.HTMLAttributes<HTMLDivElement>, VariantProps<typeof badgeVariants> {}\r\n\r\nfunction Badge({ className, variant, ...props }: BadgeProps) {\r\n  return <div className={cn(badgeVariants({ variant }), className)} {...props} />;\r\n}\r\n\r\nexport { Badge, badgeVariants };\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\components\\ui\\breadcrumb.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\components\\ui\\button.tsx","messages":[{"ruleId":"react-refresh/only-export-components","severity":1,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":48,"column":18,"nodeType":"Identifier","messageId":"namedExport","endLine":48,"endColumn":32}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import * as React from \"react\";\r\nimport { Slot } from \"@radix-ui/react-slot\";\r\nimport { cva, type VariantProps } from \"class-variance-authority\";\r\n\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nconst buttonVariants = cva(\r\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-lg text-sm font-medium ring-offset-background transition-all duration-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90 hover:shadow-gold-sm\",\r\n        destructive: \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\r\n        outline: \"border border-input bg-background hover:bg-accent hover:text-accent-foreground hover:border-primary/50\",\r\n        secondary: \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\r\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\r\n        link: \"text-primary underline-offset-4 hover:underline\",\r\n        premium: \"bg-gradient-to-r from-primary via-gold-light to-primary text-primary-foreground hover:shadow-gold-md bg-[length:200%_100%] hover:bg-right transition-all duration-500\",\r\n      },\r\n      size: {\r\n        default: \"h-10 px-5 py-2\",\r\n        sm: \"h-9 rounded-lg px-4\",\r\n        lg: \"h-12 rounded-lg px-8 text-base\",\r\n        icon: \"h-10 w-10\",\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: \"default\",\r\n      size: \"default\",\r\n    },\r\n  },\r\n);\r\n\r\nexport interface ButtonProps\r\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\r\n    VariantProps<typeof buttonVariants> {\r\n  asChild?: boolean;\r\n}\r\n\r\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\r\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\r\n    const Comp = asChild ? Slot : \"button\";\r\n    return <Comp className={cn(buttonVariants({ variant, size, className }))} ref={ref} {...props} />;\r\n  },\r\n);\r\nButton.displayName = \"Button\";\r\n\r\nexport { Button, buttonVariants };\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\components\\ui\\calendar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\components\\ui\\card.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\components\\ui\\carousel.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\components\\ui\\chart.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\components\\ui\\checkbox.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\components\\ui\\collapsible.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\components\\ui\\command.tsx","messages":[{"ruleId":"@typescript-eslint/no-empty-object-type","severity":2,"message":"An interface declaring no members is equivalent to its supertype.","line":24,"column":11,"nodeType":"Identifier","messageId":"noEmptyInterfaceWithSuper","endLine":24,"endColumn":29,"suggestions":[{"messageId":"replaceEmptyInterfaceWithSuper","fix":{"range":[733,784],"text":"type CommandDialogProps = DialogProps"},"desc":"Replace empty interface with a type alias."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import * as React from \"react\";\r\nimport { type DialogProps } from \"@radix-ui/react-dialog\";\r\nimport { Command as CommandPrimitive } from \"cmdk\";\r\nimport { Search } from \"lucide-react\";\r\n\r\nimport { cn } from \"@/lib/utils\";\r\nimport { Dialog, DialogContent } from \"@/components/ui/dialog\";\r\n\r\nconst Command = React.forwardRef<\r\n  React.ElementRef<typeof CommandPrimitive>,\r\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive>\r\n>(({ className, ...props }, ref) => (\r\n  <CommandPrimitive\r\n    ref={ref}\r\n    className={cn(\r\n      \"flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground\",\r\n      className,\r\n    )}\r\n    {...props}\r\n  />\r\n));\r\nCommand.displayName = CommandPrimitive.displayName;\r\n\r\ninterface CommandDialogProps extends DialogProps {}\r\n\r\nconst CommandDialog = ({ children, ...props }: CommandDialogProps) => {\r\n  return (\r\n    <Dialog {...props}>\r\n      <DialogContent className=\"overflow-hidden p-0 shadow-lg\">\r\n        <Command className=\"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5\">\r\n          {children}\r\n        </Command>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nconst CommandInput = React.forwardRef<\r\n  React.ElementRef<typeof CommandPrimitive.Input>,\r\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Input>\r\n>(({ className, ...props }, ref) => (\r\n  <div className=\"flex items-center border-b px-3\" cmdk-input-wrapper=\"\">\r\n    <Search className=\"mr-2 h-4 w-4 shrink-0 opacity-50\" />\r\n    <CommandPrimitive.Input\r\n      ref={ref}\r\n      className={cn(\r\n        \"flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50\",\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  </div>\r\n));\r\n\r\nCommandInput.displayName = CommandPrimitive.Input.displayName;\r\n\r\nconst CommandList = React.forwardRef<\r\n  React.ElementRef<typeof CommandPrimitive.List>,\r\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.List>\r\n>(({ className, ...props }, ref) => (\r\n  <CommandPrimitive.List\r\n    ref={ref}\r\n    className={cn(\"max-h-[300px] overflow-y-auto overflow-x-hidden\", className)}\r\n    {...props}\r\n  />\r\n));\r\n\r\nCommandList.displayName = CommandPrimitive.List.displayName;\r\n\r\nconst CommandEmpty = React.forwardRef<\r\n  React.ElementRef<typeof CommandPrimitive.Empty>,\r\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Empty>\r\n>((props, ref) => <CommandPrimitive.Empty ref={ref} className=\"py-6 text-center text-sm\" {...props} />);\r\n\r\nCommandEmpty.displayName = CommandPrimitive.Empty.displayName;\r\n\r\nconst CommandGroup = React.forwardRef<\r\n  React.ElementRef<typeof CommandPrimitive.Group>,\r\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Group>\r\n>(({ className, ...props }, ref) => (\r\n  <CommandPrimitive.Group\r\n    ref={ref}\r\n    className={cn(\r\n      \"overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground\",\r\n      className,\r\n    )}\r\n    {...props}\r\n  />\r\n));\r\n\r\nCommandGroup.displayName = CommandPrimitive.Group.displayName;\r\n\r\nconst CommandSeparator = React.forwardRef<\r\n  React.ElementRef<typeof CommandPrimitive.Separator>,\r\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Separator>\r\n>(({ className, ...props }, ref) => (\r\n  <CommandPrimitive.Separator ref={ref} className={cn(\"-mx-1 h-px bg-border\", className)} {...props} />\r\n));\r\nCommandSeparator.displayName = CommandPrimitive.Separator.displayName;\r\n\r\nconst CommandItem = React.forwardRef<\r\n  React.ElementRef<typeof CommandPrimitive.Item>,\r\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Item>\r\n>(({ className, ...props }, ref) => (\r\n  <CommandPrimitive.Item\r\n    ref={ref}\r\n    className={cn(\r\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50\",\r\n      className,\r\n    )}\r\n    {...props}\r\n  />\r\n));\r\n\r\nCommandItem.displayName = CommandPrimitive.Item.displayName;\r\n\r\nconst CommandShortcut = ({ className, ...props }: React.HTMLAttributes<HTMLSpanElement>) => {\r\n  return <span className={cn(\"ml-auto text-xs tracking-widest text-muted-foreground\", className)} {...props} />;\r\n};\r\nCommandShortcut.displayName = \"CommandShortcut\";\r\n\r\nexport {\r\n  Command,\r\n  CommandDialog,\r\n  CommandInput,\r\n  CommandList,\r\n  CommandEmpty,\r\n  CommandGroup,\r\n  CommandItem,\r\n  CommandShortcut,\r\n  CommandSeparator,\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\components\\ui\\context-menu.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\components\\ui\\dialog.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\components\\ui\\drawer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\components\\ui\\dropdown-menu.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\components\\ui\\form.tsx","messages":[{"ruleId":"react-refresh/only-export-components","severity":1,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":129,"column":10,"nodeType":"Identifier","messageId":"namedExport","endLine":129,"endColumn":22}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import * as React from \"react\";\r\nimport * as LabelPrimitive from \"@radix-ui/react-label\";\r\nimport { Slot } from \"@radix-ui/react-slot\";\r\nimport { Controller, ControllerProps, FieldPath, FieldValues, FormProvider, useFormContext } from \"react-hook-form\";\r\n\r\nimport { cn } from \"@/lib/utils\";\r\nimport { Label } from \"@/components/ui/label\";\r\n\r\nconst Form = FormProvider;\r\n\r\ntype FormFieldContextValue<\r\n  TFieldValues extends FieldValues = FieldValues,\r\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>,\r\n> = {\r\n  name: TName;\r\n};\r\n\r\nconst FormFieldContext = React.createContext<FormFieldContextValue>({} as FormFieldContextValue);\r\n\r\nconst FormField = <\r\n  TFieldValues extends FieldValues = FieldValues,\r\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>,\r\n>({\r\n  ...props\r\n}: ControllerProps<TFieldValues, TName>) => {\r\n  return (\r\n    <FormFieldContext.Provider value={{ name: props.name }}>\r\n      <Controller {...props} />\r\n    </FormFieldContext.Provider>\r\n  );\r\n};\r\n\r\nconst useFormField = () => {\r\n  const fieldContext = React.useContext(FormFieldContext);\r\n  const itemContext = React.useContext(FormItemContext);\r\n  const { getFieldState, formState } = useFormContext();\r\n\r\n  const fieldState = getFieldState(fieldContext.name, formState);\r\n\r\n  if (!fieldContext) {\r\n    throw new Error(\"useFormField should be used within <FormField>\");\r\n  }\r\n\r\n  const { id } = itemContext;\r\n\r\n  return {\r\n    id,\r\n    name: fieldContext.name,\r\n    formItemId: `${id}-form-item`,\r\n    formDescriptionId: `${id}-form-item-description`,\r\n    formMessageId: `${id}-form-item-message`,\r\n    ...fieldState,\r\n  };\r\n};\r\n\r\ntype FormItemContextValue = {\r\n  id: string;\r\n};\r\n\r\nconst FormItemContext = React.createContext<FormItemContextValue>({} as FormItemContextValue);\r\n\r\nconst FormItem = React.forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement>>(\r\n  ({ className, ...props }, ref) => {\r\n    const id = React.useId();\r\n\r\n    return (\r\n      <FormItemContext.Provider value={{ id }}>\r\n        <div ref={ref} className={cn(\"space-y-2\", className)} {...props} />\r\n      </FormItemContext.Provider>\r\n    );\r\n  },\r\n);\r\nFormItem.displayName = \"FormItem\";\r\n\r\nconst FormLabel = React.forwardRef<\r\n  React.ElementRef<typeof LabelPrimitive.Root>,\r\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root>\r\n>(({ className, ...props }, ref) => {\r\n  const { error, formItemId } = useFormField();\r\n\r\n  return <Label ref={ref} className={cn(error && \"text-destructive\", className)} htmlFor={formItemId} {...props} />;\r\n});\r\nFormLabel.displayName = \"FormLabel\";\r\n\r\nconst FormControl = React.forwardRef<React.ElementRef<typeof Slot>, React.ComponentPropsWithoutRef<typeof Slot>>(\r\n  ({ ...props }, ref) => {\r\n    const { error, formItemId, formDescriptionId, formMessageId } = useFormField();\r\n\r\n    return (\r\n      <Slot\r\n        ref={ref}\r\n        id={formItemId}\r\n        aria-describedby={!error ? `${formDescriptionId}` : `${formDescriptionId} ${formMessageId}`}\r\n        aria-invalid={!!error}\r\n        {...props}\r\n      />\r\n    );\r\n  },\r\n);\r\nFormControl.displayName = \"FormControl\";\r\n\r\nconst FormDescription = React.forwardRef<HTMLParagraphElement, React.HTMLAttributes<HTMLParagraphElement>>(\r\n  ({ className, ...props }, ref) => {\r\n    const { formDescriptionId } = useFormField();\r\n\r\n    return <p ref={ref} id={formDescriptionId} className={cn(\"text-sm text-muted-foreground\", className)} {...props} />;\r\n  },\r\n);\r\nFormDescription.displayName = \"FormDescription\";\r\n\r\nconst FormMessage = React.forwardRef<HTMLParagraphElement, React.HTMLAttributes<HTMLParagraphElement>>(\r\n  ({ className, children, ...props }, ref) => {\r\n    const { error, formMessageId } = useFormField();\r\n    const body = error ? String(error?.message) : children;\r\n\r\n    if (!body) {\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <p ref={ref} id={formMessageId} className={cn(\"text-sm font-medium text-destructive\", className)} {...props}>\r\n        {body}\r\n      </p>\r\n    );\r\n  },\r\n);\r\nFormMessage.displayName = \"FormMessage\";\r\n\r\nexport { useFormField, Form, FormItem, FormLabel, FormControl, FormDescription, FormMessage, FormField };\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\components\\ui\\hover-card.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\components\\ui\\input-otp.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\components\\ui\\input.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\components\\ui\\label.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\components\\ui\\menubar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\components\\ui\\mode-toggle.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\components\\ui\\navigation-menu.tsx","messages":[{"ruleId":"react-refresh/only-export-components","severity":1,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":111,"column":3,"nodeType":"Identifier","messageId":"namedExport","endLine":111,"endColumn":29}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import * as React from \"react\";\r\nimport * as NavigationMenuPrimitive from \"@radix-ui/react-navigation-menu\";\r\nimport { cva } from \"class-variance-authority\";\r\nimport { ChevronDown } from \"lucide-react\";\r\n\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nconst NavigationMenu = React.forwardRef<\r\n  React.ElementRef<typeof NavigationMenuPrimitive.Root>,\r\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Root>\r\n>(({ className, children, ...props }, ref) => (\r\n  <NavigationMenuPrimitive.Root\r\n    ref={ref}\r\n    className={cn(\"relative z-10 flex max-w-max flex-1 items-center justify-center\", className)}\r\n    {...props}\r\n  >\r\n    {children}\r\n    <NavigationMenuViewport />\r\n  </NavigationMenuPrimitive.Root>\r\n));\r\nNavigationMenu.displayName = NavigationMenuPrimitive.Root.displayName;\r\n\r\nconst NavigationMenuList = React.forwardRef<\r\n  React.ElementRef<typeof NavigationMenuPrimitive.List>,\r\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.List>\r\n>(({ className, ...props }, ref) => (\r\n  <NavigationMenuPrimitive.List\r\n    ref={ref}\r\n    className={cn(\"group flex flex-1 list-none items-center justify-center space-x-1\", className)}\r\n    {...props}\r\n  />\r\n));\r\nNavigationMenuList.displayName = NavigationMenuPrimitive.List.displayName;\r\n\r\nconst NavigationMenuItem = NavigationMenuPrimitive.Item;\r\n\r\nconst navigationMenuTriggerStyle = cva(\r\n  \"group inline-flex h-10 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[active]:bg-accent/50 data-[state=open]:bg-accent/50\",\r\n);\r\n\r\nconst NavigationMenuTrigger = React.forwardRef<\r\n  React.ElementRef<typeof NavigationMenuPrimitive.Trigger>,\r\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Trigger>\r\n>(({ className, children, ...props }, ref) => (\r\n  <NavigationMenuPrimitive.Trigger\r\n    ref={ref}\r\n    className={cn(navigationMenuTriggerStyle(), \"group\", className)}\r\n    {...props}\r\n  >\r\n    {children}{\" \"}\r\n    <ChevronDown\r\n      className=\"relative top-[1px] ml-1 h-3 w-3 transition duration-200 group-data-[state=open]:rotate-180\"\r\n      aria-hidden=\"true\"\r\n    />\r\n  </NavigationMenuPrimitive.Trigger>\r\n));\r\nNavigationMenuTrigger.displayName = NavigationMenuPrimitive.Trigger.displayName;\r\n\r\nconst NavigationMenuContent = React.forwardRef<\r\n  React.ElementRef<typeof NavigationMenuPrimitive.Content>,\r\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Content>\r\n>(({ className, ...props }, ref) => (\r\n  <NavigationMenuPrimitive.Content\r\n    ref={ref}\r\n    className={cn(\r\n      \"left-0 top-0 w-full data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 md:absolute md:w-auto\",\r\n      className,\r\n    )}\r\n    {...props}\r\n  />\r\n));\r\nNavigationMenuContent.displayName = NavigationMenuPrimitive.Content.displayName;\r\n\r\nconst NavigationMenuLink = NavigationMenuPrimitive.Link;\r\n\r\nconst NavigationMenuViewport = React.forwardRef<\r\n  React.ElementRef<typeof NavigationMenuPrimitive.Viewport>,\r\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Viewport>\r\n>(({ className, ...props }, ref) => (\r\n  <div className={cn(\"absolute left-0 top-full flex justify-center\")}>\r\n    <NavigationMenuPrimitive.Viewport\r\n      className={cn(\r\n        \"origin-top-center relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 md:w-[var(--radix-navigation-menu-viewport-width)]\",\r\n        className,\r\n      )}\r\n      ref={ref}\r\n      {...props}\r\n    />\r\n  </div>\r\n));\r\nNavigationMenuViewport.displayName = NavigationMenuPrimitive.Viewport.displayName;\r\n\r\nconst NavigationMenuIndicator = React.forwardRef<\r\n  React.ElementRef<typeof NavigationMenuPrimitive.Indicator>,\r\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Indicator>\r\n>(({ className, ...props }, ref) => (\r\n  <NavigationMenuPrimitive.Indicator\r\n    ref={ref}\r\n    className={cn(\r\n      \"top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden data-[state=visible]:animate-in data-[state=hidden]:animate-out data-[state=hidden]:fade-out data-[state=visible]:fade-in\",\r\n      className,\r\n    )}\r\n    {...props}\r\n  >\r\n    <div className=\"relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm bg-border shadow-md\" />\r\n  </NavigationMenuPrimitive.Indicator>\r\n));\r\nNavigationMenuIndicator.displayName = NavigationMenuPrimitive.Indicator.displayName;\r\n\r\nexport {\r\n  navigationMenuTriggerStyle,\r\n  NavigationMenu,\r\n  NavigationMenuList,\r\n  NavigationMenuItem,\r\n  NavigationMenuContent,\r\n  NavigationMenuTrigger,\r\n  NavigationMenuLink,\r\n  NavigationMenuIndicator,\r\n  NavigationMenuViewport,\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\components\\ui\\pagination.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\components\\ui\\popover.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\components\\ui\\progress.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\components\\ui\\radio-group.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\components\\ui\\resizable.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\components\\ui\\scroll-area.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\components\\ui\\select.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\components\\ui\\separator.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\components\\ui\\sheet.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\components\\ui\\sidebar.tsx","messages":[{"ruleId":"react-refresh/only-export-components","severity":1,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":636,"column":3,"nodeType":"Identifier","messageId":"namedExport","endLine":636,"endColumn":13}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import * as React from \"react\";\r\nimport { Slot } from \"@radix-ui/react-slot\";\r\nimport { VariantProps, cva } from \"class-variance-authority\";\r\nimport { PanelLeft } from \"lucide-react\";\r\n\r\nimport { useIsMobile } from \"@/hooks/use-mobile\";\r\nimport { cn } from \"@/lib/utils\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Separator } from \"@/components/ui/separator\";\r\nimport { Sheet, SheetContent } from \"@/components/ui/sheet\";\r\nimport { Skeleton } from \"@/components/ui/skeleton\";\r\nimport { Tooltip, TooltipContent, TooltipProvider, TooltipTrigger } from \"@/components/ui/tooltip\";\r\n\r\nconst SIDEBAR_COOKIE_NAME = \"sidebar:state\";\r\nconst SIDEBAR_COOKIE_MAX_AGE = 60 * 60 * 24 * 7;\r\nconst SIDEBAR_WIDTH = \"16rem\";\r\nconst SIDEBAR_WIDTH_MOBILE = \"18rem\";\r\nconst SIDEBAR_WIDTH_ICON = \"3rem\";\r\nconst SIDEBAR_KEYBOARD_SHORTCUT = \"b\";\r\n\r\ntype SidebarContext = {\r\n  state: \"expanded\" | \"collapsed\";\r\n  open: boolean;\r\n  setOpen: (open: boolean) => void;\r\n  openMobile: boolean;\r\n  setOpenMobile: (open: boolean) => void;\r\n  isMobile: boolean;\r\n  toggleSidebar: () => void;\r\n};\r\n\r\nconst SidebarContext = React.createContext<SidebarContext | null>(null);\r\n\r\nfunction useSidebar() {\r\n  const context = React.useContext(SidebarContext);\r\n  if (!context) {\r\n    throw new Error(\"useSidebar must be used within a SidebarProvider.\");\r\n  }\r\n\r\n  return context;\r\n}\r\n\r\nconst SidebarProvider = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.ComponentProps<\"div\"> & {\r\n    defaultOpen?: boolean;\r\n    open?: boolean;\r\n    onOpenChange?: (open: boolean) => void;\r\n  }\r\n>(({ defaultOpen = true, open: openProp, onOpenChange: setOpenProp, className, style, children, ...props }, ref) => {\r\n  const isMobile = useIsMobile();\r\n  const [openMobile, setOpenMobile] = React.useState(false);\r\n\r\n  // This is the internal state of the sidebar.\r\n  // We use openProp and setOpenProp for control from outside the component.\r\n  const [_open, _setOpen] = React.useState(defaultOpen);\r\n  const open = openProp ?? _open;\r\n  const setOpen = React.useCallback(\r\n    (value: boolean | ((value: boolean) => boolean)) => {\r\n      const openState = typeof value === \"function\" ? value(open) : value;\r\n      if (setOpenProp) {\r\n        setOpenProp(openState);\r\n      } else {\r\n        _setOpen(openState);\r\n      }\r\n\r\n      // This sets the cookie to keep the sidebar state.\r\n      document.cookie = `${SIDEBAR_COOKIE_NAME}=${openState}; path=/; max-age=${SIDEBAR_COOKIE_MAX_AGE}`;\r\n    },\r\n    [setOpenProp, open],\r\n  );\r\n\r\n  // Helper to toggle the sidebar.\r\n  const toggleSidebar = React.useCallback(() => {\r\n    return isMobile ? setOpenMobile((open) => !open) : setOpen((open) => !open);\r\n  }, [isMobile, setOpen, setOpenMobile]);\r\n\r\n  // Adds a keyboard shortcut to toggle the sidebar.\r\n  React.useEffect(() => {\r\n    const handleKeyDown = (event: KeyboardEvent) => {\r\n      if (event.key === SIDEBAR_KEYBOARD_SHORTCUT && (event.metaKey || event.ctrlKey)) {\r\n        event.preventDefault();\r\n        toggleSidebar();\r\n      }\r\n    };\r\n\r\n    window.addEventListener(\"keydown\", handleKeyDown);\r\n    return () => window.removeEventListener(\"keydown\", handleKeyDown);\r\n  }, [toggleSidebar]);\r\n\r\n  // We add a state so that we can do data-state=\"expanded\" or \"collapsed\".\r\n  // This makes it easier to style the sidebar with Tailwind classes.\r\n  const state = open ? \"expanded\" : \"collapsed\";\r\n\r\n  const contextValue = React.useMemo<SidebarContext>(\r\n    () => ({\r\n      state,\r\n      open,\r\n      setOpen,\r\n      isMobile,\r\n      openMobile,\r\n      setOpenMobile,\r\n      toggleSidebar,\r\n    }),\r\n    [state, open, setOpen, isMobile, openMobile, setOpenMobile, toggleSidebar],\r\n  );\r\n\r\n  return (\r\n    <SidebarContext.Provider value={contextValue}>\r\n      <TooltipProvider delayDuration={0}>\r\n        <div\r\n          style={\r\n            {\r\n              \"--sidebar-width\": SIDEBAR_WIDTH,\r\n              \"--sidebar-width-icon\": SIDEBAR_WIDTH_ICON,\r\n              ...style,\r\n            } as React.CSSProperties\r\n          }\r\n          className={cn(\"group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar\", className)}\r\n          ref={ref}\r\n          {...props}\r\n        >\r\n          {children}\r\n        </div>\r\n      </TooltipProvider>\r\n    </SidebarContext.Provider>\r\n  );\r\n});\r\nSidebarProvider.displayName = \"SidebarProvider\";\r\n\r\nconst Sidebar = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.ComponentProps<\"div\"> & {\r\n    side?: \"left\" | \"right\";\r\n    variant?: \"sidebar\" | \"floating\" | \"inset\";\r\n    collapsible?: \"offcanvas\" | \"icon\" | \"none\";\r\n  }\r\n>(({ side = \"left\", variant = \"sidebar\", collapsible = \"offcanvas\", className, children, ...props }, ref) => {\r\n  const { isMobile, state, openMobile, setOpenMobile } = useSidebar();\r\n\r\n  if (collapsible === \"none\") {\r\n    return (\r\n      <div\r\n        className={cn(\"flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground\", className)}\r\n        ref={ref}\r\n        {...props}\r\n      >\r\n        {children}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (isMobile) {\r\n    return (\r\n      <Sheet open={openMobile} onOpenChange={setOpenMobile} {...props}>\r\n        <SheetContent\r\n          data-sidebar=\"sidebar\"\r\n          data-mobile=\"true\"\r\n          className=\"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden\"\r\n          style={\r\n            {\r\n              \"--sidebar-width\": SIDEBAR_WIDTH_MOBILE,\r\n            } as React.CSSProperties\r\n          }\r\n          side={side}\r\n        >\r\n          <div className=\"flex h-full w-full flex-col\">{children}</div>\r\n        </SheetContent>\r\n      </Sheet>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div\r\n      ref={ref}\r\n      className=\"group peer hidden text-sidebar-foreground md:block\"\r\n      data-state={state}\r\n      data-collapsible={state === \"collapsed\" ? collapsible : \"\"}\r\n      data-variant={variant}\r\n      data-side={side}\r\n    >\r\n      {/* This is what handles the sidebar gap on desktop */}\r\n      <div\r\n        className={cn(\r\n          \"relative h-svh w-[--sidebar-width] bg-transparent transition-[width] duration-200 ease-linear\",\r\n          \"group-data-[collapsible=offcanvas]:w-0\",\r\n          \"group-data-[side=right]:rotate-180\",\r\n          variant === \"floating\" || variant === \"inset\"\r\n            ? \"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]\"\r\n            : \"group-data-[collapsible=icon]:w-[--sidebar-width-icon]\",\r\n        )}\r\n      />\r\n      <div\r\n        className={cn(\r\n          \"fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] duration-200 ease-linear md:flex\",\r\n          side === \"left\"\r\n            ? \"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]\"\r\n            : \"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]\",\r\n          // Adjust the padding for floating and inset variants.\r\n          variant === \"floating\" || variant === \"inset\"\r\n            ? \"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]\"\r\n            : \"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l\",\r\n          className,\r\n        )}\r\n        {...props}\r\n      >\r\n        <div\r\n          data-sidebar=\"sidebar\"\r\n          className=\"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow\"\r\n        >\r\n          {children}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\nSidebar.displayName = \"Sidebar\";\r\n\r\nconst SidebarTrigger = React.forwardRef<React.ElementRef<typeof Button>, React.ComponentProps<typeof Button>>(\r\n  ({ className, onClick, ...props }, ref) => {\r\n    const { toggleSidebar } = useSidebar();\r\n\r\n    return (\r\n      <Button\r\n        ref={ref}\r\n        data-sidebar=\"trigger\"\r\n        variant=\"ghost\"\r\n        size=\"icon\"\r\n        className={cn(\"h-7 w-7\", className)}\r\n        onClick={(event) => {\r\n          onClick?.(event);\r\n          toggleSidebar();\r\n        }}\r\n        {...props}\r\n      >\r\n        <PanelLeft />\r\n        <span className=\"sr-only\">Toggle Sidebar</span>\r\n      </Button>\r\n    );\r\n  },\r\n);\r\nSidebarTrigger.displayName = \"SidebarTrigger\";\r\n\r\nconst SidebarRail = React.forwardRef<HTMLButtonElement, React.ComponentProps<\"button\">>(\r\n  ({ className, ...props }, ref) => {\r\n    const { toggleSidebar } = useSidebar();\r\n\r\n    return (\r\n      <button\r\n        ref={ref}\r\n        data-sidebar=\"rail\"\r\n        aria-label=\"Toggle Sidebar\"\r\n        tabIndex={-1}\r\n        onClick={toggleSidebar}\r\n        title=\"Toggle Sidebar\"\r\n        className={cn(\r\n          \"absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] group-data-[side=left]:-right-4 group-data-[side=right]:left-0 hover:after:bg-sidebar-border sm:flex\",\r\n          \"[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize\",\r\n          \"[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize\",\r\n          \"group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar\",\r\n          \"[[data-side=left][data-collapsible=offcanvas]_&]:-right-2\",\r\n          \"[[data-side=right][data-collapsible=offcanvas]_&]:-left-2\",\r\n          className,\r\n        )}\r\n        {...props}\r\n      />\r\n    );\r\n  },\r\n);\r\nSidebarRail.displayName = \"SidebarRail\";\r\n\r\nconst SidebarInset = React.forwardRef<HTMLDivElement, React.ComponentProps<\"main\">>(({ className, ...props }, ref) => {\r\n  return (\r\n    <main\r\n      ref={ref}\r\n      className={cn(\r\n        \"relative flex min-h-svh flex-1 flex-col bg-background\",\r\n        \"peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow\",\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  );\r\n});\r\nSidebarInset.displayName = \"SidebarInset\";\r\n\r\nconst SidebarInput = React.forwardRef<React.ElementRef<typeof Input>, React.ComponentProps<typeof Input>>(\r\n  ({ className, ...props }, ref) => {\r\n    return (\r\n      <Input\r\n        ref={ref}\r\n        data-sidebar=\"input\"\r\n        className={cn(\r\n          \"h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring\",\r\n          className,\r\n        )}\r\n        {...props}\r\n      />\r\n    );\r\n  },\r\n);\r\nSidebarInput.displayName = \"SidebarInput\";\r\n\r\nconst SidebarHeader = React.forwardRef<HTMLDivElement, React.ComponentProps<\"div\">>(({ className, ...props }, ref) => {\r\n  return <div ref={ref} data-sidebar=\"header\" className={cn(\"flex flex-col gap-2 p-2\", className)} {...props} />;\r\n});\r\nSidebarHeader.displayName = \"SidebarHeader\";\r\n\r\nconst SidebarFooter = React.forwardRef<HTMLDivElement, React.ComponentProps<\"div\">>(({ className, ...props }, ref) => {\r\n  return <div ref={ref} data-sidebar=\"footer\" className={cn(\"flex flex-col gap-2 p-2\", className)} {...props} />;\r\n});\r\nSidebarFooter.displayName = \"SidebarFooter\";\r\n\r\nconst SidebarSeparator = React.forwardRef<React.ElementRef<typeof Separator>, React.ComponentProps<typeof Separator>>(\r\n  ({ className, ...props }, ref) => {\r\n    return (\r\n      <Separator\r\n        ref={ref}\r\n        data-sidebar=\"separator\"\r\n        className={cn(\"mx-2 w-auto bg-sidebar-border\", className)}\r\n        {...props}\r\n      />\r\n    );\r\n  },\r\n);\r\nSidebarSeparator.displayName = \"SidebarSeparator\";\r\n\r\nconst SidebarContent = React.forwardRef<HTMLDivElement, React.ComponentProps<\"div\">>(({ className, ...props }, ref) => {\r\n  return (\r\n    <div\r\n      ref={ref}\r\n      data-sidebar=\"content\"\r\n      className={cn(\r\n        \"flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden\",\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  );\r\n});\r\nSidebarContent.displayName = \"SidebarContent\";\r\n\r\nconst SidebarGroup = React.forwardRef<HTMLDivElement, React.ComponentProps<\"div\">>(({ className, ...props }, ref) => {\r\n  return (\r\n    <div\r\n      ref={ref}\r\n      data-sidebar=\"group\"\r\n      className={cn(\"relative flex w-full min-w-0 flex-col p-2\", className)}\r\n      {...props}\r\n    />\r\n  );\r\n});\r\nSidebarGroup.displayName = \"SidebarGroup\";\r\n\r\nconst SidebarGroupLabel = React.forwardRef<HTMLDivElement, React.ComponentProps<\"div\"> & { asChild?: boolean }>(\r\n  ({ className, asChild = false, ...props }, ref) => {\r\n    const Comp = asChild ? Slot : \"div\";\r\n\r\n    return (\r\n      <Comp\r\n        ref={ref}\r\n        data-sidebar=\"group-label\"\r\n        className={cn(\r\n          \"flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\r\n          \"group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0\",\r\n          className,\r\n        )}\r\n        {...props}\r\n      />\r\n    );\r\n  },\r\n);\r\nSidebarGroupLabel.displayName = \"SidebarGroupLabel\";\r\n\r\nconst SidebarGroupAction = React.forwardRef<HTMLButtonElement, React.ComponentProps<\"button\"> & { asChild?: boolean }>(\r\n  ({ className, asChild = false, ...props }, ref) => {\r\n    const Comp = asChild ? Slot : \"button\";\r\n\r\n    return (\r\n      <Comp\r\n        ref={ref}\r\n        data-sidebar=\"group-action\"\r\n        className={cn(\r\n          \"absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\r\n          // Increases the hit area of the button on mobile.\r\n          \"after:absolute after:-inset-2 after:md:hidden\",\r\n          \"group-data-[collapsible=icon]:hidden\",\r\n          className,\r\n        )}\r\n        {...props}\r\n      />\r\n    );\r\n  },\r\n);\r\nSidebarGroupAction.displayName = \"SidebarGroupAction\";\r\n\r\nconst SidebarGroupContent = React.forwardRef<HTMLDivElement, React.ComponentProps<\"div\">>(\r\n  ({ className, ...props }, ref) => (\r\n    <div ref={ref} data-sidebar=\"group-content\" className={cn(\"w-full text-sm\", className)} {...props} />\r\n  ),\r\n);\r\nSidebarGroupContent.displayName = \"SidebarGroupContent\";\r\n\r\nconst SidebarMenu = React.forwardRef<HTMLUListElement, React.ComponentProps<\"ul\">>(({ className, ...props }, ref) => (\r\n  <ul ref={ref} data-sidebar=\"menu\" className={cn(\"flex w-full min-w-0 flex-col gap-1\", className)} {...props} />\r\n));\r\nSidebarMenu.displayName = \"SidebarMenu\";\r\n\r\nconst SidebarMenuItem = React.forwardRef<HTMLLIElement, React.ComponentProps<\"li\">>(({ className, ...props }, ref) => (\r\n  <li ref={ref} data-sidebar=\"menu-item\" className={cn(\"group/menu-item relative\", className)} {...props} />\r\n));\r\nSidebarMenuItem.displayName = \"SidebarMenuItem\";\r\n\r\nconst sidebarMenuButtonVariants = cva(\r\n  \"peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default: \"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground\",\r\n        outline:\r\n          \"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]\",\r\n      },\r\n      size: {\r\n        default: \"h-8 text-sm\",\r\n        sm: \"h-7 text-xs\",\r\n        lg: \"h-12 text-sm group-data-[collapsible=icon]:!p-0\",\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: \"default\",\r\n      size: \"default\",\r\n    },\r\n  },\r\n);\r\n\r\nconst SidebarMenuButton = React.forwardRef<\r\n  HTMLButtonElement,\r\n  React.ComponentProps<\"button\"> & {\r\n    asChild?: boolean;\r\n    isActive?: boolean;\r\n    tooltip?: string | React.ComponentProps<typeof TooltipContent>;\r\n  } & VariantProps<typeof sidebarMenuButtonVariants>\r\n>(({ asChild = false, isActive = false, variant = \"default\", size = \"default\", tooltip, className, ...props }, ref) => {\r\n  const Comp = asChild ? Slot : \"button\";\r\n  const { isMobile, state } = useSidebar();\r\n\r\n  const button = (\r\n    <Comp\r\n      ref={ref}\r\n      data-sidebar=\"menu-button\"\r\n      data-size={size}\r\n      data-active={isActive}\r\n      className={cn(sidebarMenuButtonVariants({ variant, size }), className)}\r\n      {...props}\r\n    />\r\n  );\r\n\r\n  if (!tooltip) {\r\n    return button;\r\n  }\r\n\r\n  if (typeof tooltip === \"string\") {\r\n    tooltip = {\r\n      children: tooltip,\r\n    };\r\n  }\r\n\r\n  return (\r\n    <Tooltip>\r\n      <TooltipTrigger asChild>{button}</TooltipTrigger>\r\n      <TooltipContent side=\"right\" align=\"center\" hidden={state !== \"collapsed\" || isMobile} {...tooltip} />\r\n    </Tooltip>\r\n  );\r\n});\r\nSidebarMenuButton.displayName = \"SidebarMenuButton\";\r\n\r\nconst SidebarMenuAction = React.forwardRef<\r\n  HTMLButtonElement,\r\n  React.ComponentProps<\"button\"> & {\r\n    asChild?: boolean;\r\n    showOnHover?: boolean;\r\n  }\r\n>(({ className, asChild = false, showOnHover = false, ...props }, ref) => {\r\n  const Comp = asChild ? Slot : \"button\";\r\n\r\n  return (\r\n    <Comp\r\n      ref={ref}\r\n      data-sidebar=\"menu-action\"\r\n      className={cn(\r\n        \"absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform peer-hover/menu-button:text-sidebar-accent-foreground hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\r\n        // Increases the hit area of the button on mobile.\r\n        \"after:absolute after:-inset-2 after:md:hidden\",\r\n        \"peer-data-[size=sm]/menu-button:top-1\",\r\n        \"peer-data-[size=default]/menu-button:top-1.5\",\r\n        \"peer-data-[size=lg]/menu-button:top-2.5\",\r\n        \"group-data-[collapsible=icon]:hidden\",\r\n        showOnHover &&\r\n          \"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0\",\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  );\r\n});\r\nSidebarMenuAction.displayName = \"SidebarMenuAction\";\r\n\r\nconst SidebarMenuBadge = React.forwardRef<HTMLDivElement, React.ComponentProps<\"div\">>(\r\n  ({ className, ...props }, ref) => (\r\n    <div\r\n      ref={ref}\r\n      data-sidebar=\"menu-badge\"\r\n      className={cn(\r\n        \"pointer-events-none absolute right-1 flex h-5 min-w-5 select-none items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground\",\r\n        \"peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground\",\r\n        \"peer-data-[size=sm]/menu-button:top-1\",\r\n        \"peer-data-[size=default]/menu-button:top-1.5\",\r\n        \"peer-data-[size=lg]/menu-button:top-2.5\",\r\n        \"group-data-[collapsible=icon]:hidden\",\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  ),\r\n);\r\nSidebarMenuBadge.displayName = \"SidebarMenuBadge\";\r\n\r\nconst SidebarMenuSkeleton = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.ComponentProps<\"div\"> & {\r\n    showIcon?: boolean;\r\n  }\r\n>(({ className, showIcon = false, ...props }, ref) => {\r\n  // Random width between 50 to 90%.\r\n  const width = React.useMemo(() => {\r\n    return `${Math.floor(Math.random() * 40) + 50}%`;\r\n  }, []);\r\n\r\n  return (\r\n    <div\r\n      ref={ref}\r\n      data-sidebar=\"menu-skeleton\"\r\n      className={cn(\"flex h-8 items-center gap-2 rounded-md px-2\", className)}\r\n      {...props}\r\n    >\r\n      {showIcon && <Skeleton className=\"size-4 rounded-md\" data-sidebar=\"menu-skeleton-icon\" />}\r\n      <Skeleton\r\n        className=\"h-4 max-w-[--skeleton-width] flex-1\"\r\n        data-sidebar=\"menu-skeleton-text\"\r\n        style={\r\n          {\r\n            \"--skeleton-width\": width,\r\n          } as React.CSSProperties\r\n        }\r\n      />\r\n    </div>\r\n  );\r\n});\r\nSidebarMenuSkeleton.displayName = \"SidebarMenuSkeleton\";\r\n\r\nconst SidebarMenuSub = React.forwardRef<HTMLUListElement, React.ComponentProps<\"ul\">>(\r\n  ({ className, ...props }, ref) => (\r\n    <ul\r\n      ref={ref}\r\n      data-sidebar=\"menu-sub\"\r\n      className={cn(\r\n        \"mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5\",\r\n        \"group-data-[collapsible=icon]:hidden\",\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  ),\r\n);\r\nSidebarMenuSub.displayName = \"SidebarMenuSub\";\r\n\r\nconst SidebarMenuSubItem = React.forwardRef<HTMLLIElement, React.ComponentProps<\"li\">>(({ ...props }, ref) => (\r\n  <li ref={ref} {...props} />\r\n));\r\nSidebarMenuSubItem.displayName = \"SidebarMenuSubItem\";\r\n\r\nconst SidebarMenuSubButton = React.forwardRef<\r\n  HTMLAnchorElement,\r\n  React.ComponentProps<\"a\"> & {\r\n    asChild?: boolean;\r\n    size?: \"sm\" | \"md\";\r\n    isActive?: boolean;\r\n  }\r\n>(({ asChild = false, size = \"md\", isActive, className, ...props }, ref) => {\r\n  const Comp = asChild ? Slot : \"a\";\r\n\r\n  return (\r\n    <Comp\r\n      ref={ref}\r\n      data-sidebar=\"menu-sub-button\"\r\n      data-size={size}\r\n      data-active={isActive}\r\n      className={cn(\r\n        \"flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring aria-disabled:pointer-events-none aria-disabled:opacity-50 hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground\",\r\n        \"data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground\",\r\n        size === \"sm\" && \"text-xs\",\r\n        size === \"md\" && \"text-sm\",\r\n        \"group-data-[collapsible=icon]:hidden\",\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  );\r\n});\r\nSidebarMenuSubButton.displayName = \"SidebarMenuSubButton\";\r\n\r\nexport {\r\n  Sidebar,\r\n  SidebarContent,\r\n  SidebarFooter,\r\n  SidebarGroup,\r\n  SidebarGroupAction,\r\n  SidebarGroupContent,\r\n  SidebarGroupLabel,\r\n  SidebarHeader,\r\n  SidebarInput,\r\n  SidebarInset,\r\n  SidebarMenu,\r\n  SidebarMenuAction,\r\n  SidebarMenuBadge,\r\n  SidebarMenuButton,\r\n  SidebarMenuItem,\r\n  SidebarMenuSkeleton,\r\n  SidebarMenuSub,\r\n  SidebarMenuSubButton,\r\n  SidebarMenuSubItem,\r\n  SidebarProvider,\r\n  SidebarRail,\r\n  SidebarSeparator,\r\n  SidebarTrigger,\r\n  useSidebar,\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\components\\ui\\skeleton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\components\\ui\\slider.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\components\\ui\\sonner.tsx","messages":[{"ruleId":"react-refresh/only-export-components","severity":1,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":27,"column":19,"nodeType":"Identifier","messageId":"namedExport","endLine":27,"endColumn":24}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useTheme } from \"next-themes\";\r\nimport { Toaster as Sonner, toast } from \"sonner\";\r\n\r\ntype ToasterProps = React.ComponentProps<typeof Sonner>;\r\n\r\nconst Toaster = ({ ...props }: ToasterProps) => {\r\n  const { theme = \"system\" } = useTheme();\r\n\r\n  return (\r\n    <Sonner\r\n      theme={theme as ToasterProps[\"theme\"]}\r\n      className=\"toaster group\"\r\n      toastOptions={{\r\n        classNames: {\r\n          toast:\r\n            \"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg\",\r\n          description: \"group-[.toast]:text-muted-foreground\",\r\n          actionButton: \"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground\",\r\n          cancelButton: \"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground\",\r\n        },\r\n      }}\r\n      {...props}\r\n    />\r\n  );\r\n};\r\n\r\nexport { Toaster, toast };\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\components\\ui\\switch.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\components\\ui\\table.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\components\\ui\\tabs.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\components\\ui\\textarea.tsx","messages":[{"ruleId":"@typescript-eslint/no-empty-object-type","severity":2,"message":"An interface declaring no members is equivalent to its supertype.","line":5,"column":18,"nodeType":"Identifier","messageId":"noEmptyInterfaceWithSuper","endLine":5,"endColumn":31,"suggestions":[{"messageId":"replaceEmptyInterfaceWithSuper","fix":{"range":[79,163],"text":"type TextareaProps = React.TextareaHTMLAttributes<HTMLTextAreaElement>"},"desc":"Replace empty interface with a type alias."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import * as React from \"react\";\r\n\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nexport interface TextareaProps extends React.TextareaHTMLAttributes<HTMLTextAreaElement> {}\r\n\r\nconst Textarea = React.forwardRef<HTMLTextAreaElement, TextareaProps>(({ className, ...props }, ref) => {\r\n  return (\r\n    <textarea\r\n      className={cn(\r\n        \"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\r\n        className,\r\n      )}\r\n      ref={ref}\r\n      {...props}\r\n    />\r\n  );\r\n});\r\nTextarea.displayName = \"Textarea\";\r\n\r\nexport { Textarea };\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\components\\ui\\toast.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\components\\ui\\toaster.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\components\\ui\\toggle-group.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\components\\ui\\toggle.tsx","messages":[{"ruleId":"react-refresh/only-export-components","severity":1,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":37,"column":18,"nodeType":"Identifier","messageId":"namedExport","endLine":37,"endColumn":32}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import * as React from \"react\";\r\nimport * as TogglePrimitive from \"@radix-ui/react-toggle\";\r\nimport { cva, type VariantProps } from \"class-variance-authority\";\r\n\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nconst toggleVariants = cva(\r\n  \"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default: \"bg-transparent\",\r\n        outline: \"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground\",\r\n      },\r\n      size: {\r\n        default: \"h-10 px-3\",\r\n        sm: \"h-9 px-2.5\",\r\n        lg: \"h-11 px-5\",\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: \"default\",\r\n      size: \"default\",\r\n    },\r\n  },\r\n);\r\n\r\nconst Toggle = React.forwardRef<\r\n  React.ElementRef<typeof TogglePrimitive.Root>,\r\n  React.ComponentPropsWithoutRef<typeof TogglePrimitive.Root> & VariantProps<typeof toggleVariants>\r\n>(({ className, variant, size, ...props }, ref) => (\r\n  <TogglePrimitive.Root ref={ref} className={cn(toggleVariants({ variant, size, className }))} {...props} />\r\n));\r\n\r\nToggle.displayName = TogglePrimitive.Root.displayName;\r\n\r\nexport { Toggle, toggleVariants };\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\components\\ui\\tooltip.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\components\\ui\\use-toast.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\contexts\\CartContext.tsx","messages":[{"ruleId":"react-refresh/only-export-components","severity":1,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":18,"column":17,"nodeType":"Identifier","messageId":"namedExport","endLine":18,"endColumn":24}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { createContext, useContext, ReactNode } from 'react';\r\nimport { useCart as useCartHook } from '@/hooks/useCart';\r\n\r\ntype CartContextType = ReturnType<typeof useCartHook>;\r\n\r\nconst CartContext = createContext<CartContextType | undefined>(undefined);\r\n\r\nexport function CartProvider({ children }: { children: ReactNode }) {\r\n  const cart = useCartHook();\r\n\r\n  return (\r\n    <CartContext.Provider value={cart}>\r\n      {children}\r\n    </CartContext.Provider>\r\n  );\r\n}\r\n\r\nexport function useCart() {\r\n  const context = useContext(CartContext);\r\n  if (context === undefined) {\r\n    throw new Error('useCart must be used within a CartProvider');\r\n  }\r\n  return context;\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\contexts\\ThemeContext.tsx","messages":[{"ruleId":"react-refresh/only-export-components","severity":1,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":80,"column":17,"nodeType":"Identifier","messageId":"namedExport","endLine":80,"endColumn":25}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { createContext, useContext, useEffect, useState, ReactNode } from 'react';\r\n\r\ntype Theme = 'dark' | 'light' | 'system';\r\n\r\ninterface ThemeContextType {\r\n  theme: Theme;\r\n  setTheme: (theme: Theme) => void;\r\n  resolvedTheme: 'dark' | 'light';\r\n  isAdminTheme: boolean;\r\n  setIsAdminTheme: (value: boolean) => void;\r\n}\r\n\r\nconst ThemeContext = createContext<ThemeContextType | undefined>(undefined);\r\n\r\nconst THEME_STORAGE_KEY = 'bras-conceito-theme';\r\n\r\nexport function ThemeProvider({ children }: { children: ReactNode }) {\r\n  // Default to light theme for customer-facing pages\r\n  const [theme, setThemeState] = useState<Theme>(() => {\r\n    if (typeof window !== 'undefined') {\r\n      return (localStorage.getItem(THEME_STORAGE_KEY) as Theme) || 'light';\r\n    }\r\n    return 'light';\r\n  });\r\n\r\n  const [resolvedTheme, setResolvedTheme] = useState<'dark' | 'light'>('light');\r\n  const [isAdminTheme, setIsAdminTheme] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const root = window.document.documentElement;\r\n    \r\n    const getSystemTheme = (): 'dark' | 'light' => {\r\n      return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';\r\n    };\r\n\r\n    const applyTheme = (newTheme: Theme) => {\r\n      let resolved: 'dark' | 'light';\r\n      \r\n      if (isAdminTheme) {\r\n        // Admin area respects theme preference\r\n        resolved = newTheme === 'system' ? getSystemTheme() : newTheme;\r\n      } else {\r\n        // Customer area: always light theme for main content\r\n        // Header/footer/mobile-nav handle their own dark styling via CSS classes\r\n        resolved = 'light';\r\n      }\r\n      \r\n      setResolvedTheme(resolved);\r\n      \r\n      root.classList.remove('light', 'dark');\r\n      root.classList.add(resolved);\r\n    };\r\n\r\n    applyTheme(theme);\r\n\r\n    // Listen for system theme changes\r\n    const mediaQuery = window.matchMedia('(prefers-color-scheme: dark)');\r\n    const handleChange = () => {\r\n      if (theme === 'system') {\r\n        applyTheme('system');\r\n      }\r\n    };\r\n\r\n    mediaQuery.addEventListener('change', handleChange);\r\n    return () => mediaQuery.removeEventListener('change', handleChange);\r\n  }, [theme, isAdminTheme]);\r\n\r\n  const setTheme = (newTheme: Theme) => {\r\n    localStorage.setItem(THEME_STORAGE_KEY, newTheme);\r\n    setThemeState(newTheme);\r\n  };\r\n\r\n  return (\r\n    <ThemeContext.Provider value={{ theme, setTheme, resolvedTheme, isAdminTheme, setIsAdminTheme }}>\r\n      {children}\r\n    </ThemeContext.Provider>\r\n  );\r\n}\r\n\r\nexport function useTheme() {\r\n  const context = useContext(ThemeContext);\r\n  if (context === undefined) {\r\n    throw new Error('useTheme must be used within a ThemeProvider');\r\n  }\r\n  return context;\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\hooks\\admin\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\hooks\\admin\\useAdminAuth.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\hooks\\admin\\useAdminBanners.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\hooks\\admin\\useAdminBrands.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\hooks\\admin\\useAdminCategories.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\hooks\\admin\\useAdminCustomers.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":56,"column":38,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":56,"endColumn":41,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1847,1850],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1847,1850],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useQuery } from '@tanstack/react-query';\r\nimport { supabase } from '@/integrations/supabase/client';\r\n\r\ninterface Customer {\r\n  id: string;\r\n  user_id: string;\r\n  full_name: string | null;\r\n  phone: string | null;\r\n  cpf: string | null;\r\n  customer_type: string;\r\n  created_at: string;\r\n  totalOrders: number;\r\n  totalSpent: number;\r\n}\r\n\r\nexport function useAdminCustomers() {\r\n  return useQuery({\r\n    queryKey: ['admin-customers'],\r\n    queryFn: async () => {\r\n      // Fetch all profiles\r\n      const { data: profiles, error: profilesError } = await supabase\r\n        .from('profiles')\r\n        .select('*')\r\n        .order('created_at', { ascending: false });\r\n\r\n      if (profilesError) throw profilesError;\r\n\r\n      // Fetch order totals for each user\r\n      const { data: orders, error: ordersError } = await supabase\r\n        .from('orders')\r\n        .select('user_id, total, status')\r\n        .neq('status', 'cancelled');\r\n\r\n      if (ordersError) throw ordersError;\r\n\r\n      // Aggregate order data by user\r\n      const ordersByUser = new Map<string, { count: number; total: number }>();\r\n      orders?.forEach(order => {\r\n        if (order.user_id) {\r\n          const existing = ordersByUser.get(order.user_id) || { count: 0, total: 0 };\r\n          existing.count += 1;\r\n          existing.total += Number(order.total);\r\n          ordersByUser.set(order.user_id, existing);\r\n        }\r\n      });\r\n\r\n      // Combine profile data with order data\r\n      const customers: Customer[] = (profiles || []).map(profile => {\r\n        const orderData = ordersByUser.get(profile.user_id) || { count: 0, total: 0 };\r\n        return {\r\n          id: profile.id,\r\n          user_id: profile.user_id,\r\n          full_name: profile.full_name,\r\n          phone: profile.phone,\r\n          cpf: profile.cpf,\r\n          customer_type: (profile as any).customer_type || 'retail',\r\n          created_at: profile.created_at,\r\n          totalOrders: orderData.count,\r\n          totalSpent: orderData.total,\r\n        };\r\n      });\r\n\r\n      return customers;\r\n    },\r\n  });\r\n}\r\n\r\nexport function useAdminCustomer(userId: string) {\r\n  return useQuery({\r\n    queryKey: ['admin-customer', userId],\r\n    queryFn: async () => {\r\n      // Fetch profile\r\n      const { data: profile, error: profileError } = await supabase\r\n        .from('profiles')\r\n        .select('*')\r\n        .eq('user_id', userId)\r\n        .single();\r\n\r\n      if (profileError) throw profileError;\r\n\r\n      // Fetch addresses\r\n      const { data: addresses, error: addressesError } = await supabase\r\n        .from('addresses')\r\n        .select('*')\r\n        .eq('user_id', userId);\r\n\r\n      if (addressesError) throw addressesError;\r\n\r\n      // Fetch orders with items\r\n      const { data: orders, error: ordersError } = await supabase\r\n        .from('orders')\r\n        .select(`\r\n          *,\r\n          order_items (\r\n            id,\r\n            product_name,\r\n            variant_info,\r\n            quantity,\r\n            unit_price\r\n          )\r\n        `)\r\n        .eq('user_id', userId)\r\n        .order('created_at', { ascending: false });\r\n\r\n      if (ordersError) throw ordersError;\r\n\r\n      return {\r\n        profile,\r\n        addresses: addresses || [],\r\n        orders: orders || [],\r\n      };\r\n    },\r\n    enabled: !!userId,\r\n  });\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\hooks\\admin\\useAdminOrders.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\hooks\\admin\\useAdminProducts.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\hooks\\admin\\useBulkImport.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\hooks\\admin\\useBulkUpdate.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":7,"column":27,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":7,"endColumn":30,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[263,266],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[263,266],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":12,"column":27,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":12,"endColumn":30,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[350,353],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[350,353],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":28,"column":33,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":28,"endColumn":36,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[849,852],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[849,852],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":35,"column":29,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":35,"endColumn":32,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1175,1178],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1175,1178],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":45,"column":33,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":45,"endColumn":36,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1550,1553],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1550,1553],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":60,"column":29,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":60,"endColumn":32,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2029,2032],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2029,2032],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":6,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useMutation, useQueryClient } from '@tanstack/react-query';\r\nimport { supabase } from '@/integrations/supabase/client';\r\nimport { useToast } from '@/hooks/use-toast';\r\n\r\nexport interface VariantChange {\r\n  variant_id?: string;\r\n  changes: Record<string, any>;\r\n}\r\n\r\nexport interface ProductChange {\r\n  id: string;\r\n  changes: Record<string, any>;\r\n  variantChanges?: VariantChange[];\r\n  newVariants?: { size: string; stock?: boolean }[];\r\n}\r\n\r\nexport function useBulkUpdateProducts() {\r\n  const queryClient = useQueryClient();\r\n  const { toast } = useToast();\r\n\r\n  return useMutation({\r\n    mutationFn: async (items: ProductChange[]) => {\r\n      const batchSize = 10;\r\n      let updated = 0;\r\n\r\n      for (let i = 0; i < items.length; i += batchSize) {\r\n        const batch = items.slice(i, i + batchSize);\r\n        const promises: Promise<any>[] = [];\r\n\r\n        for (const { id, changes, variantChanges, newVariants } of batch) {\r\n          if (Object.keys(changes).length > 0) {\r\n            promises.push(\r\n              supabase.from('products').update(changes).eq('id', id).then(r => {\r\n                if (r.error) throw r.error;\r\n              }) as Promise<any>\r\n            );\r\n          }\r\n\r\n          if (variantChanges) {\r\n            for (const vc of variantChanges) {\r\n              if (vc.variant_id) {\r\n                promises.push(\r\n                  supabase.from('product_variants').update(vc.changes).eq('id', vc.variant_id).then(r => {\r\n                    if (r.error) throw r.error;\r\n                  }) as Promise<any>\r\n                );\r\n              }\r\n            }\r\n          }\r\n\r\n          if (newVariants && newVariants.length > 0) {\r\n            const inserts = newVariants.map(v => ({\r\n              product_id: id,\r\n              size: v.size,\r\n              stock: v.stock !== false,\r\n            }));\r\n            promises.push(\r\n              supabase.from('product_variants').insert(inserts).then(r => {\r\n                if (r.error) throw r.error;\r\n              }) as Promise<any>\r\n            );\r\n          }\r\n\r\n          updated++;\r\n        }\r\n\r\n        await Promise.all(promises);\r\n      }\r\n\r\n      return updated;\r\n    },\r\n    onSuccess: (count) => {\r\n      queryClient.invalidateQueries({ queryKey: ['admin-products'] });\r\n      toast({\r\n        title: 'Atualiza├º├úo conclu├¡da',\r\n        description: `${count} produto(s) atualizado(s) com sucesso.`,\r\n      });\r\n    },\r\n    onError: (error) => {\r\n      toast({\r\n        title: 'Erro na atualiza├º├úo',\r\n        description: 'Falha ao atualizar produtos em massa.',\r\n        variant: 'destructive',\r\n      });\r\n      console.error('Bulk update error:', error);\r\n    },\r\n  });\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\hooks\\admin\\useDashboard.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\hooks\\use-mobile.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\hooks\\use-toast.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\hooks\\useAuth.tsx","messages":[{"ruleId":"react-refresh/only-export-components","severity":1,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":201,"column":17,"nodeType":"Identifier","messageId":"namedExport","endLine":201,"endColumn":24}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { createContext, useContext, useEffect, useState, ReactNode } from 'react';\r\nimport { User, Session, AuthError } from '@supabase/supabase-js';\r\nimport { supabase } from '@/integrations/supabase/client';\r\nimport { Profile } from '@/types';\r\n\r\ninterface AuthContextType {\r\n  user: User | null;\r\n  session: Session | null;\r\n  profile: Profile | null;\r\n  isLoading: boolean;\r\n  signIn: (email: string, password: string) => Promise<void>;\r\n  signUp: (email: string, password: string, fullName: string) => Promise<{ needsConfirmation: boolean }>;\r\n  signOut: () => Promise<void>;\r\n  updateProfile: (data: Partial<Profile>) => Promise<void>;\r\n  resendConfirmation: (email: string) => Promise<void>;\r\n}\r\n\r\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\r\n\r\n/**\r\n * Traduz mensagens de erro do Supabase Auth para PT-BR\r\n */\r\nfunction translateAuthError(error: AuthError): string {\r\n  const message = error.message?.toLowerCase() || '';\r\n\r\n  if (message.includes('invalid login credentials') || message.includes('invalid_credentials')) {\r\n    return 'E-mail ou senha incorretos. Verifique seus dados e tente novamente.';\r\n  }\r\n  if (message.includes('email not confirmed')) {\r\n    return 'Seu e-mail ainda n├úo foi confirmado. Verifique sua caixa de entrada (e spam) e clique no link de confirma├º├úo.';\r\n  }\r\n  if (message.includes('email rate limit exceeded') || message.includes('rate limit')) {\r\n    return 'Muitas tentativas. Aguarde alguns minutos antes de tentar novamente.';\r\n  }\r\n  if (message.includes('user already registered') || message.includes('already been registered')) {\r\n    return 'Este e-mail j├í est├í cadastrado. Tente fazer login ou use outro e-mail.';\r\n  }\r\n  if (message.includes('signup is disabled')) {\r\n    return 'O cadastro de novos usu├írios est├í temporariamente desabilitado.';\r\n  }\r\n  if (message.includes('password') && message.includes('short')) {\r\n    return 'A senha deve ter pelo menos 6 caracteres.';\r\n  }\r\n  if (message.includes('email') && message.includes('invalid')) {\r\n    return 'O formato do e-mail n├úo ├® v├ílido.';\r\n  }\r\n  if (message.includes('network') || message.includes('fetch')) {\r\n    return 'Erro de conex├úo. Verifique sua internet e tente novamente.';\r\n  }\r\n\r\n  // Fallback: retorna a mensagem original\r\n  return error.message || 'Ocorreu um erro inesperado. Tente novamente.';\r\n}\r\n\r\n/**\r\n * Detecta a URL base correta para redirecionamento\r\n */\r\nfunction getRedirectUrl(path: string = '/'): string {\r\n  // Em produ├º├úo (Lovable/Vercel/Netlify), usa a URL de produ├º├úo\r\n  // Em desenvolvimento, usa localhost\r\n  const baseUrl = window.location.origin;\r\n  return `${baseUrl}${path}`;\r\n}\r\n\r\nexport function AuthProvider({ children }: { children: ReactNode }) {\r\n  const [user, setUser] = useState<User | null>(null);\r\n  const [session, setSession] = useState<Session | null>(null);\r\n  const [profile, setProfile] = useState<Profile | null>(null);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    // Set up auth state listener FIRST\r\n    const { data: { subscription } } = supabase.auth.onAuthStateChange(\r\n      async (event, session) => {\r\n        console.log('[Auth] State changed:', event, session?.user?.email);\r\n        setSession(session);\r\n        setUser(session?.user ?? null);\r\n        \r\n        if (session?.user) {\r\n          // Fetch profile using setTimeout to avoid deadlock\r\n          setTimeout(async () => {\r\n            try {\r\n              const { data } = await supabase\r\n                .from('profiles')\r\n                .select('*')\r\n                .eq('user_id', session.user.id)\r\n                .maybeSingle();\r\n              setProfile(data);\r\n            } catch (err) {\r\n              console.error('[Auth] Error fetching profile:', err);\r\n            }\r\n          }, 0);\r\n        } else {\r\n          setProfile(null);\r\n        }\r\n        \r\n        setIsLoading(false);\r\n      }\r\n    );\r\n\r\n    // THEN check for existing session\r\n    supabase.auth.getSession().then(({ data: { session } }) => {\r\n      setSession(session);\r\n      setUser(session?.user ?? null);\r\n      if (!session) {\r\n        setIsLoading(false);\r\n      }\r\n    });\r\n\r\n    return () => subscription.unsubscribe();\r\n  }, []);\r\n\r\n  const signIn = async (email: string, password: string) => {\r\n    const { error } = await supabase.auth.signInWithPassword({ \r\n      email: email.trim().toLowerCase(), \r\n      password \r\n    });\r\n    if (error) {\r\n      throw new Error(translateAuthError(error));\r\n    }\r\n  };\r\n\r\n  const signUp = async (email: string, password: string, fullName: string): Promise<{ needsConfirmation: boolean }> => {\r\n    const { data, error } = await supabase.auth.signUp({\r\n      email: email.trim().toLowerCase(),\r\n      password,\r\n      options: {\r\n        emailRedirectTo: getRedirectUrl('/login'),\r\n        data: { full_name: fullName },\r\n      },\r\n    });\r\n\r\n    if (error) {\r\n      throw new Error(translateAuthError(error));\r\n    }\r\n\r\n    // O Supabase retorna um user mesmo quando precisa de confirma├º├úo.\r\n    // Se o user tem identities vazio, significa que o email j├í est├í cadastrado\r\n    // mas o Supabase n├úo revela isso por seguran├ºa (fake signup).\r\n    if (data?.user?.identities?.length === 0) {\r\n      throw new Error('Este e-mail j├í est├í cadastrado. Tente fazer login ou use outro e-mail.');\r\n    }\r\n\r\n    // Verifica se precisa de confirma├º├úo por email\r\n    // Se session ├® null mas user existe, significa que precisa confirmar email\r\n    const needsConfirmation = !data.session && !!data.user;\r\n    \r\n    return { needsConfirmation };\r\n  };\r\n\r\n  const signOut = async () => {\r\n    const { error } = await supabase.auth.signOut();\r\n    if (error) {\r\n      throw new Error(translateAuthError(error));\r\n    }\r\n  };\r\n\r\n  const updateProfile = async (data: Partial<Profile>) => {\r\n    if (!user) throw new Error('Voc├¬ precisa estar logado para atualizar o perfil.');\r\n    \r\n    const { error } = await supabase\r\n      .from('profiles')\r\n      .update(data)\r\n      .eq('user_id', user.id);\r\n    \r\n    if (error) throw new Error('Erro ao atualizar perfil. Tente novamente.');\r\n    \r\n    setProfile(prev => prev ? { ...prev, ...data } : null);\r\n  };\r\n\r\n  const resendConfirmation = async (email: string) => {\r\n    const { error } = await supabase.auth.resend({\r\n      type: 'signup',\r\n      email: email.trim().toLowerCase(),\r\n      options: {\r\n        emailRedirectTo: getRedirectUrl('/login'),\r\n      },\r\n    });\r\n    if (error) {\r\n      throw new Error(translateAuthError(error));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <AuthContext.Provider value={{\r\n      user,\r\n      session,\r\n      profile,\r\n      isLoading,\r\n      signIn,\r\n      signUp,\r\n      signOut,\r\n      updateProfile,\r\n      resendConfirmation,\r\n    }}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n}\r\n\r\nexport function useAuth() {\r\n  const context = useContext(AuthContext);\r\n  if (context === undefined) {\r\n    throw new Error('useAuth must be used within an AuthProvider');\r\n  }\r\n  return context;\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\hooks\\useCart.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\hooks\\useFavorites.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\hooks\\useInView.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\hooks\\usePWA.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":30,"column":26,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":30,"endColumn":29,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1023,1026],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1023,1026],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect } from 'react';\r\n\r\ninterface BeforeInstallPromptEvent extends Event {\r\n  prompt: () => Promise<void>;\r\n  userChoice: Promise<{ outcome: 'accepted' | 'dismissed' }>;\r\n}\r\n\r\ninterface UsePWAReturn {\r\n  isInstalled: boolean;\r\n  isInstallable: boolean;\r\n  isIOS: boolean;\r\n  isAndroid: boolean;\r\n  isStandalone: boolean;\r\n  promptInstall: () => Promise<void>;\r\n  dismissPrompt: () => void;\r\n  showInstallBanner: boolean;\r\n}\r\n\r\nexport function usePWA(): UsePWAReturn {\r\n  const [deferredPrompt, setDeferredPrompt] = useState<BeforeInstallPromptEvent | null>(null);\r\n  const [isInstalled, setIsInstalled] = useState(false);\r\n  const [showInstallBanner, setShowInstallBanner] = useState(false);\r\n\r\n  // Detect platform\r\n  const isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent);\r\n  const isAndroid = /Android/.test(navigator.userAgent);\r\n  \r\n  // Check if running as standalone (installed)\r\n  const isStandalone = window.matchMedia('(display-mode: standalone)').matches ||\r\n    (window.navigator as any).standalone === true ||\r\n    document.referrer.includes('android-app://');\r\n\r\n  useEffect(() => {\r\n    // Check if already installed\r\n    if (isStandalone) {\r\n      setIsInstalled(true);\r\n      return;\r\n    }\r\n\r\n    // Check if banner was dismissed recently (24 hours)\r\n    const dismissedAt = localStorage.getItem('pwa-banner-dismissed');\r\n    if (dismissedAt) {\r\n      const dismissedTime = parseInt(dismissedAt, 10);\r\n      const hoursSinceDismissed = (Date.now() - dismissedTime) / (1000 * 60 * 60);\r\n      if (hoursSinceDismissed < 24) {\r\n        setShowInstallBanner(false);\r\n      } else {\r\n        setShowInstallBanner(true);\r\n      }\r\n    } else {\r\n      // Show banner after 3 seconds\r\n      setTimeout(() => setShowInstallBanner(true), 3000);\r\n    }\r\n\r\n    // Listen for beforeinstallprompt event (Chrome/Android)\r\n    const handleBeforeInstallPrompt = (e: Event) => {\r\n      e.preventDefault();\r\n      setDeferredPrompt(e as BeforeInstallPromptEvent);\r\n    };\r\n\r\n    // Listen for app installed event\r\n    const handleAppInstalled = () => {\r\n      setIsInstalled(true);\r\n      setDeferredPrompt(null);\r\n      setShowInstallBanner(false);\r\n    };\r\n\r\n    window.addEventListener('beforeinstallprompt', handleBeforeInstallPrompt);\r\n    window.addEventListener('appinstalled', handleAppInstalled);\r\n\r\n    return () => {\r\n      window.removeEventListener('beforeinstallprompt', handleBeforeInstallPrompt);\r\n      window.removeEventListener('appinstalled', handleAppInstalled);\r\n    };\r\n  }, [isStandalone]);\r\n\r\n  const promptInstall = async () => {\r\n    if (deferredPrompt) {\r\n      await deferredPrompt.prompt();\r\n      const { outcome } = await deferredPrompt.userChoice;\r\n      if (outcome === 'accepted') {\r\n        setIsInstalled(true);\r\n        setShowInstallBanner(false);\r\n      }\r\n      setDeferredPrompt(null);\r\n    }\r\n  };\r\n\r\n  const dismissPrompt = () => {\r\n    setShowInstallBanner(false);\r\n    localStorage.setItem('pwa-banner-dismissed', Date.now().toString());\r\n  };\r\n\r\n  return {\r\n    isInstalled,\r\n    isInstallable: !!deferredPrompt,\r\n    isIOS,\r\n    isAndroid,\r\n    isStandalone,\r\n    promptInstall,\r\n    dismissPrompt,\r\n    showInstallBanner: showInstallBanner && !isInstalled && !isStandalone,\r\n  };\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\hooks\\useProducts.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\integrations\\supabase\\client.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\integrations\\supabase\\types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\lib\\cepUtils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\lib\\productCategories.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\lib\\sanitizeDescription.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\lib\\utils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\main.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\pages\\AccountPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\pages\\CartPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\pages\\CheckoutPage.tsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'loadShippingOptions'. Either include it or remove the dependency array.","line":171,"column":6,"nodeType":"ArrayExpression","endLine":171,"endColumn":12,"suggestions":[{"desc":"Update the dependencies array to be: [loadShippingOptions, user]","fix":{"range":[5927,5933],"text":"[loadShippingOptions, user]"}}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect, useCallback } from 'react';\r\nimport { useNavigate, Link } from 'react-router-dom';\r\nimport { Layout } from '@/components/layout';\r\nimport { useCart } from '@/contexts/CartContext';\r\nimport { useAuth } from '@/hooks/useAuth';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Input } from '@/components/ui/input';\r\nimport { Label } from '@/components/ui/label';\r\nimport { RadioGroup, RadioGroupItem } from '@/components/ui/radio-group';\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\r\nimport { toast } from '@/hooks/use-toast';\r\nimport { Loader2, CreditCard, QrCode, FileText, Truck, Zap, ArrowLeft, CheckCircle, Search, Package } from 'lucide-react';\r\nimport { cn } from '@/lib/utils';\r\nimport { supabase } from '@/integrations/supabase/client';\r\nimport { Skeleton } from '@/components/ui/skeleton';\r\nimport { fetchCEP } from '@/lib/cepUtils';\r\nimport { createPayment, calculateShipping, type ShippingOption, type PaymentResponse } from '@/services/paymentService';\r\nimport { PixQRCodeModal } from '@/components/checkout/PixQRCodeModal';\r\n\r\n// M├íscaras de formata├º├úo\r\nconst formatCPF = (value: string) => {\r\n  return value\r\n    .replace(/\\D/g, '')\r\n    .replace(/(\\d{3})(\\d)/, '$1.$2')\r\n    .replace(/(\\d{3})(\\d)/, '$1.$2')\r\n    .replace(/(\\d{3})(\\d{1,2})/, '$1-$2')\r\n    .slice(0, 14);\r\n};\r\n\r\nconst formatPhone = (value: string) => {\r\n  return value\r\n    .replace(/\\D/g, '')\r\n    .replace(/(\\d{2})(\\d)/, '($1) $2')\r\n    .replace(/(\\d{5})(\\d)/, '$1-$2')\r\n    .slice(0, 15);\r\n};\r\n\r\nconst formatCEP_mask = (value: string) => {\r\n  return value\r\n    .replace(/\\D/g, '')\r\n    .replace(/(\\d{5})(\\d)/, '$1-$2')\r\n    .slice(0, 9);\r\n};\r\n\r\ntype Step = 'shipping' | 'payment' | 'confirmation';\r\n\r\nexport default function CheckoutPage() {\r\n  const navigate = useNavigate();\r\n  const { items, subtotal, clearCart, getItemPrice, isWholesale, wholesaleSavings } = useCart();\r\n  const { user, profile, isLoading: authLoading } = useAuth();\r\n\r\n  const [step, setStep] = useState<Step>('shipping');\r\n  const [isProcessing, setIsProcessing] = useState(false);\r\n\r\n  // Form state\r\n  const [shippingData, setShippingData] = useState({\r\n    fullName: profile?.full_name || '',\r\n    email: user?.email || '',\r\n    phone: profile?.phone || '',\r\n    cpf: profile?.cpf || '',\r\n    cep: '',\r\n    street: '',\r\n    number: '',\r\n    complement: '',\r\n    neighborhood: '',\r\n    city: '',\r\n    state: '',\r\n  });\r\n\r\n  // Dynamic shipping options\r\n  const [shippingOptions, setShippingOptions] = useState<ShippingOption[]>([]);\r\n  const [isLoadingShipping, setIsLoadingShipping] = useState(false);\r\n  const [selectedShippingId, setSelectedShippingId] = useState<number | null>(null);\r\n  const [shippingFallback, setShippingFallback] = useState(false);\r\n\r\n  const [paymentMethod, setPaymentMethod] = useState<'pix' | 'card' | 'boleto'>('pix');\r\n\r\n  // Credit card state\r\n  const [cardData, setCardData] = useState({\r\n    number: '',\r\n    holderName: '',\r\n    expiryMonth: '',\r\n    expiryYear: '',\r\n    ccv: '',\r\n  });\r\n\r\n  // PIX Modal state\r\n  const [showPixModal, setShowPixModal] = useState(false);\r\n  const [pixData, setPixData] = useState<{ qrCode: string; payload: string; orderId: string; value: number }>({\r\n    qrCode: '',\r\n    payload: '',\r\n    orderId: '',\r\n    value: 0,\r\n  });\r\n\r\n  // Completed order ID for confirmation\r\n  const [completedOrderId, setCompletedOrderId] = useState<string>('');\r\n\r\n  const paymentOptions = {\r\n    pix: { name: 'PIX', description: '10% de desconto', icon: QrCode, discount: 0.1 },\r\n    card: { name: 'Cart├úo de Cr├®dito', description: 'Em at├® 12x', icon: CreditCard, discount: 0 },\r\n    boleto: { name: 'Boleto Banc├írio', description: '5% de desconto', icon: FileText, discount: 0.05 },\r\n  };\r\n\r\n  const formatPrice = (price: number) => {\r\n    return new Intl.NumberFormat('pt-BR', {\r\n      style: 'currency',\r\n      currency: 'BRL',\r\n    }).format(price);\r\n  };\r\n\r\n  // Calculate costs\r\n  const selectedShipping = shippingOptions.find(o => o.id === selectedShippingId);\r\n  const shippingCost = selectedShipping?.price || 0;\r\n  const discount = subtotal * paymentOptions[paymentMethod].discount;\r\n  const total = subtotal + shippingCost - discount;\r\n\r\n  // Require login BEFORE filling checkout form\r\n  useEffect(() => {\r\n    if (!authLoading && !user && step !== 'confirmation') {\r\n      toast({\r\n        title: 'Fa├ºa login para continuar',\r\n        description: 'Voc├¬ precisa estar logado para finalizar a compra.'\r\n      });\r\n      navigate('/login', { state: { from: '/checkout' } });\r\n    }\r\n  }, [user, authLoading, navigate, step]);\r\n\r\n  // Pre-load profile and default address\r\n  useEffect(() => {\r\n    if (!user) return;\r\n\r\n    const loadUserData = async () => {\r\n      const { data: profileData } = await supabase\r\n        .from('profiles')\r\n        .select('full_name, phone, cpf')\r\n        .eq('user_id', user.id)\r\n        .maybeSingle();\r\n\r\n      const { data: addressData } = await supabase\r\n        .from('addresses')\r\n        .select('*')\r\n        .eq('user_id', user.id)\r\n        .eq('is_default', true)\r\n        .maybeSingle();\r\n\r\n      setShippingData(prev => ({\r\n        ...prev,\r\n        fullName: profileData?.full_name || prev.fullName || '',\r\n        phone: profileData?.phone || prev.phone || '',\r\n        cpf: profileData?.cpf || prev.cpf || '',\r\n        email: user.email || prev.email || '',\r\n        ...(addressData ? {\r\n          cep: addressData.cep,\r\n          street: addressData.street,\r\n          number: addressData.number,\r\n          complement: addressData.complement || '',\r\n          neighborhood: addressData.neighborhood,\r\n          city: addressData.city,\r\n          state: addressData.state,\r\n        } : {}),\r\n      }));\r\n\r\n      // If address has CEP, load shipping options\r\n      if (addressData?.cep) {\r\n        loadShippingOptions(addressData.cep);\r\n      }\r\n    };\r\n\r\n    loadUserData();\r\n  }, [user]);\r\n\r\n  // Load shipping options from Melhor Envio API\r\n  const loadShippingOptions = useCallback(async (cep: string) => {\r\n    const cleanCep = cep.replace(/\\D/g, '');\r\n    if (cleanCep.length !== 8) return;\r\n\r\n    setIsLoadingShipping(true);\r\n    try {\r\n      const cartItems = items.map(item => ({\r\n        quantity: item.quantity,\r\n        weight: 0.5, // Default weight for sneakers ~500g\r\n        insurance_value: getItemPrice(item),\r\n      }));\r\n\r\n      const result = await calculateShipping(cleanCep, cartItems);\r\n      setShippingOptions(result.options);\r\n      setShippingFallback(result.fallback);\r\n\r\n      // Auto-select cheapest option\r\n      if (result.options.length > 0) {\r\n        setSelectedShippingId(result.options[0].id);\r\n      }\r\n    } catch (error) {\r\n      console.error('Shipping calculation error:', error);\r\n      // Fallback options\r\n      setShippingOptions([\r\n        { id: 1, name: 'PAC', company: 'Correios', price: 29.90, delivery_time: 10 },\r\n        { id: 2, name: 'SEDEX', company: 'Correios', price: 49.90, delivery_time: 5 },\r\n      ]);\r\n      setSelectedShippingId(1);\r\n      setShippingFallback(true);\r\n    } finally {\r\n      setIsLoadingShipping(false);\r\n    }\r\n  }, [items, getItemPrice]);\r\n\r\n  // Busca autom├ítica de CEP via ViaCEP + calcula frete\r\n  const handleCepSearch = useCallback(async (cep: string) => {\r\n    try {\r\n      const result = await fetchCEP(cep);\r\n      if (result) {\r\n        setShippingData(prev => ({ ...prev, ...result }));\r\n        toast({ title: 'Endere├ºo encontrado!' });\r\n        // Also calculate shipping\r\n        loadShippingOptions(cep);\r\n      } else {\r\n        toast({ title: 'CEP n├úo encontrado', variant: 'destructive' });\r\n      }\r\n    } catch (error) {\r\n      console.error('CEP lookup error:', error);\r\n      toast({ title: 'Erro ao buscar CEP', variant: 'destructive' });\r\n    }\r\n  }, [loadShippingOptions]);\r\n\r\n  // Redirect if cart is empty\r\n  if (items.length === 0 && step !== 'confirmation') {\r\n    navigate('/carrinho');\r\n    return null;\r\n  }\r\n\r\n  // Show loading while checking auth\r\n  if (authLoading) {\r\n    return (\r\n      <Layout>\r\n        <div className=\"container py-8\">\r\n          <div className=\"grid lg:grid-cols-3 gap-8\">\r\n            <div className=\"lg:col-span-2 space-y-6\">\r\n              <Skeleton className=\"h-64 rounded-xl\" />\r\n              <Skeleton className=\"h-80 rounded-xl\" />\r\n            </div>\r\n            <Skeleton className=\"h-72 rounded-xl\" />\r\n          </div>\r\n        </div>\r\n      </Layout>\r\n    );\r\n  }\r\n\r\n  // Show redirect message if not logged in\r\n  if (!user && step !== 'confirmation') {\r\n    return (\r\n      <Layout>\r\n        <div className=\"container py-12 text-center\">\r\n          <Loader2 className=\"h-8 w-8 animate-spin mx-auto mb-4 text-primary\" />\r\n          <p className=\"text-muted-foreground\">Redirecionando para login...</p>\r\n        </div>\r\n      </Layout>\r\n    );\r\n  }\r\n\r\n  const handleShippingSubmit = (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n\r\n    const required = ['fullName', 'email', 'phone', 'cpf', 'cep', 'street', 'number', 'neighborhood', 'city', 'state'];\r\n    const missing = required.filter(field => !shippingData[field as keyof typeof shippingData]);\r\n\r\n    if (missing.length > 0) {\r\n      toast({ title: 'Preencha todos os campos obrigat├│rios', variant: 'destructive' });\r\n      return;\r\n    }\r\n\r\n    if (!selectedShippingId) {\r\n      toast({ title: 'Selecione um m├®todo de envio', variant: 'destructive' });\r\n      return;\r\n    }\r\n\r\n    setStep('payment');\r\n  };\r\n\r\n  const handlePaymentSubmit = async () => {\r\n    if (!user) {\r\n      toast({\r\n        title: 'Fa├ºa login para finalizar',\r\n        description: 'Voc├¬ precisa estar logado para concluir o pedido.',\r\n        variant: 'destructive'\r\n      });\r\n      navigate('/login', { state: { from: '/checkout' } });\r\n      return;\r\n    }\r\n\r\n    // Validate card data if paying by card\r\n    if (paymentMethod === 'card') {\r\n      if (!cardData.number || !cardData.holderName || !cardData.expiryMonth || !cardData.expiryYear || !cardData.ccv) {\r\n        toast({ title: 'Preencha todos os dados do cart├úo', variant: 'destructive' });\r\n        return;\r\n      }\r\n    }\r\n\r\n    setIsProcessing(true);\r\n\r\n    try {\r\n      // 1. Create order in database\r\n      const shippingMethodName = selectedShipping?.name || 'PAC';\r\n      const orderData = {\r\n        user_id: user.id,\r\n        status: 'pending' as const,\r\n        subtotal: subtotal,\r\n        shipping_cost: shippingCost,\r\n        discount: discount,\r\n        total: total,\r\n        payment_method: paymentMethod,\r\n        shipping_method: shippingMethodName.toLowerCase().includes('sedex') ? 'sedex' : 'pac',\r\n        shipping_address: {\r\n          full_name: shippingData.fullName,\r\n          email: shippingData.email,\r\n          phone: shippingData.phone,\r\n          cpf: shippingData.cpf,\r\n          cep: shippingData.cep,\r\n          street: shippingData.street,\r\n          number: shippingData.number,\r\n          complement: shippingData.complement,\r\n          neighborhood: shippingData.neighborhood,\r\n          city: shippingData.city,\r\n          state: shippingData.state,\r\n        },\r\n      };\r\n\r\n      const { data: order, error: orderError } = await supabase\r\n        .from('orders')\r\n        .insert(orderData)\r\n        .select()\r\n        .single();\r\n\r\n      if (orderError) {\r\n        console.error('Order creation error:', orderError);\r\n        throw new Error('Erro ao criar pedido');\r\n      }\r\n\r\n      // 2. Insert order items\r\n      const orderItems = items.map(item => ({\r\n        order_id: order.id,\r\n        product_id: item.product.id,\r\n        variant_id: item.variant?.id || null,\r\n        product_name: item.product.title,\r\n        variant_info: item.variant\r\n          ? `Tam ${item.variant.size}`\r\n          : null,\r\n        quantity: item.quantity,\r\n        unit_price: getItemPrice(item),\r\n      }));\r\n\r\n      const { error: itemsError } = await supabase\r\n        .from('order_items')\r\n        .insert(orderItems);\r\n\r\n      if (itemsError) {\r\n        console.error('Order items error:', itemsError);\r\n        throw new Error('Erro ao salvar itens do pedido');\r\n      }\r\n\r\n      // 3. Decrement stock atomically\r\n      const stockItems = items\r\n        .filter(item => item.variant?.id)\r\n        .map(item => ({\r\n          variant_id: item.variant!.id,\r\n          quantity: item.quantity,\r\n        }));\r\n\r\n      if (stockItems.length > 0) {\r\n        const { data: stockOk, error: stockError } = await supabase\r\n          .rpc('decrement_stock', { p_items: stockItems });\r\n\r\n        if (stockError) {\r\n          console.error('Stock decrement error:', stockError);\r\n        }\r\n        if (stockOk === false) {\r\n          throw new Error('Estoque insuficiente para um ou mais itens. Por favor, revise seu carrinho.');\r\n        }\r\n      }\r\n\r\n      // 4. Save profile data\r\n      await supabase\r\n        .from('profiles')\r\n        .update({\r\n          full_name: shippingData.fullName,\r\n          phone: shippingData.phone,\r\n          cpf: shippingData.cpf,\r\n        })\r\n        .eq('user_id', user.id);\r\n\r\n      // 5. Save address if not already exists\r\n      const { data: existingAddr } = await supabase\r\n        .from('addresses')\r\n        .select('id')\r\n        .eq('user_id', user.id)\r\n        .eq('cep', shippingData.cep.replace(/\\D/g, ''))\r\n        .eq('number', shippingData.number)\r\n        .maybeSingle();\r\n\r\n      if (!existingAddr) {\r\n        await supabase.from('addresses').insert({\r\n          user_id: user.id,\r\n          label: 'Casa',\r\n          cep: shippingData.cep,\r\n          street: shippingData.street,\r\n          number: shippingData.number,\r\n          complement: shippingData.complement || null,\r\n          neighborhood: shippingData.neighborhood,\r\n          city: shippingData.city,\r\n          state: shippingData.state,\r\n          is_default: true,\r\n        });\r\n      }\r\n\r\n      // 6. Create payment via ASAAS\r\n      const cleanCpf = shippingData.cpf.replace(/\\D/g, '');\r\n      const cleanPhone = shippingData.phone.replace(/\\D/g, '');\r\n\r\n      try {\r\n        const paymentResponse: PaymentResponse = await createPayment({\r\n          orderId: order.id,\r\n          paymentMethod,\r\n          customer: {\r\n            name: shippingData.fullName,\r\n            email: shippingData.email,\r\n            cpfCnpj: cleanCpf,\r\n            phone: cleanPhone,\r\n          },\r\n          value: total,\r\n          description: `Pedido Happy Style #${order.id.slice(0, 8).toUpperCase()}`,\r\n          ...(paymentMethod === 'card' ? {\r\n            creditCard: {\r\n              holderName: cardData.holderName,\r\n              number: cardData.number.replace(/\\s/g, ''),\r\n              expiryMonth: cardData.expiryMonth,\r\n              expiryYear: cardData.expiryYear,\r\n              ccv: cardData.ccv,\r\n            },\r\n            creditCardHolderInfo: {\r\n              name: shippingData.fullName,\r\n              email: shippingData.email,\r\n              cpfCnpj: cleanCpf,\r\n              postalCode: shippingData.cep.replace(/\\D/g, ''),\r\n              addressNumber: shippingData.number,\r\n              phone: cleanPhone,\r\n            },\r\n          } : {}),\r\n        });\r\n\r\n        // Handle response based on payment method\r\n        if (paymentMethod === 'pix' && paymentResponse.pixQrCode) {\r\n          // Show PIX QR Code modal\r\n          setPixData({\r\n            qrCode: paymentResponse.pixQrCode,\r\n            payload: paymentResponse.pixPayload || '',\r\n            orderId: order.id,\r\n            value: total,\r\n          });\r\n          setShowPixModal(true);\r\n          setCompletedOrderId(order.id);\r\n        } else if (paymentMethod === 'card') {\r\n          // Card payment processed instantly\r\n          clearCart();\r\n          setCompletedOrderId(order.id);\r\n          setStep('confirmation');\r\n          toast({\r\n            title: 'Pagamento aprovado! ­ƒÄë',\r\n            description: 'Seu cart├úo foi cobrado com sucesso.'\r\n          });\r\n        } else if (paymentMethod === 'boleto' && paymentResponse.bankSlipUrl) {\r\n          // Open boleto URL and show confirmation\r\n          window.open(paymentResponse.bankSlipUrl, '_blank');\r\n          clearCart();\r\n          setCompletedOrderId(order.id);\r\n          setStep('confirmation');\r\n          toast({\r\n            title: 'Boleto gerado! ­ƒôä',\r\n            description: 'O boleto foi aberto em uma nova aba.'\r\n          });\r\n        } else {\r\n          // Fallback: if ASAAS doesn't return expected data, still confirm\r\n          clearCart();\r\n          setCompletedOrderId(order.id);\r\n          setStep('confirmation');\r\n          toast({\r\n            title: 'Pedido realizado! Ô£à',\r\n            description: paymentResponse.invoiceUrl\r\n              ? 'Use o link de pagamento enviado por email.'\r\n              : 'Aguarde a confirma├º├úo do pagamento.'\r\n          });\r\n        }\r\n\r\n      } catch (paymentError) {\r\n        console.warn('ASAAS payment error (order created):', paymentError);\r\n        // Order was created successfully, even if ASAAS fails\r\n        // Show confirmation with pending payment status\r\n        clearCart();\r\n        setCompletedOrderId(order.id);\r\n        setStep('confirmation');\r\n        toast({\r\n          title: 'Pedido criado com sucesso! Ô£à',\r\n          description: 'Houve um erro ao processar o pagamento automaticamente. Nossa equipe entrar├í em contato.',\r\n        });\r\n      }\r\n\r\n    } catch (error) {\r\n      console.error('Checkout error:', error);\r\n      toast({\r\n        title: 'Erro ao finalizar pedido',\r\n        description: error instanceof Error ? error.message : 'Tente novamente ou entre em contato.',\r\n        variant: 'destructive'\r\n      });\r\n    } finally {\r\n      setIsProcessing(false);\r\n    }\r\n  };\r\n\r\n  // PIX payment confirmed callback\r\n  const handlePixConfirmed = () => {\r\n    setShowPixModal(false);\r\n    clearCart();\r\n    setStep('confirmation');\r\n  };\r\n\r\n  if (step === 'confirmation') {\r\n    return (\r\n      <Layout>\r\n        <div className=\"container py-12 text-center max-w-md mx-auto\">\r\n          <CheckCircle className=\"h-16 w-16 text-green-500 mx-auto mb-4\" />\r\n          <h1 className=\"text-2xl font-bold mb-2\">Pedido Confirmado!</h1>\r\n          <p className=\"text-muted-foreground mb-2\">\r\n            Seu pedido foi recebido e est├í sendo processado.\r\n          </p>\r\n          {completedOrderId && (\r\n            <p className=\"text-sm font-mono bg-muted px-3 py-1 rounded inline-block mb-6\">\r\n              Pedido #{completedOrderId.slice(0, 8).toUpperCase()}\r\n            </p>\r\n          )}\r\n          <div className=\"space-y-3\">\r\n            <Button asChild className=\"w-full\">\r\n              <Link to=\"/minha-conta/pedidos\">Ver Meus Pedidos</Link>\r\n            </Button>\r\n            <Button asChild variant=\"outline\" className=\"w-full\">\r\n              <Link to=\"/\">Voltar para a Loja</Link>\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </Layout>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Layout>\r\n      <div className=\"container py-4\">\r\n        {/* Back button */}\r\n        <Button\r\n          variant=\"ghost\"\r\n          className=\"mb-4\"\r\n          onClick={() => step === 'payment' ? setStep('shipping') : navigate('/carrinho')}\r\n        >\r\n          <ArrowLeft className=\"h-4 w-4 mr-2\" />\r\n          Voltar\r\n        </Button>\r\n\r\n        {/* Steps indicator */}\r\n        <div className=\"flex items-center justify-center gap-4 mb-8\">\r\n          <div className={cn('flex items-center gap-2', step === 'shipping' && 'text-primary')}>\r\n            <div className={cn(\r\n              'h-8 w-8 rounded-full flex items-center justify-center text-sm font-bold',\r\n              step === 'shipping' ? 'bg-primary text-primary-foreground' : 'bg-muted text-muted-foreground'\r\n            )}>\r\n              1\r\n            </div>\r\n            <span className=\"hidden sm:inline text-sm font-medium\">Entrega</span>\r\n          </div>\r\n          <div className=\"h-px w-8 bg-border\" />\r\n          <div className={cn('flex items-center gap-2', step === 'payment' && 'text-primary')}>\r\n            <div className={cn(\r\n              'h-8 w-8 rounded-full flex items-center justify-center text-sm font-bold',\r\n              step === 'payment' ? 'bg-primary text-primary-foreground' : 'bg-muted text-muted-foreground'\r\n            )}>\r\n              2\r\n            </div>\r\n            <span className=\"hidden sm:inline text-sm font-medium\">Pagamento</span>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"grid lg:grid-cols-3 gap-8\">\r\n          {/* Form */}\r\n          <div className=\"lg:col-span-2\">\r\n            {step === 'shipping' && (\r\n              <form onSubmit={handleShippingSubmit} className=\"space-y-6\">\r\n                <Card>\r\n                  <CardHeader>\r\n                    <CardTitle>Dados Pessoais</CardTitle>\r\n                  </CardHeader>\r\n                  <CardContent className=\"grid gap-4\">\r\n                    <div className=\"grid sm:grid-cols-2 gap-4\">\r\n                      <div className=\"space-y-2\">\r\n                        <Label>Nome Completo *</Label>\r\n                        <Input\r\n                          value={shippingData.fullName}\r\n                          onChange={(e) => setShippingData({ ...shippingData, fullName: e.target.value })}\r\n                        />\r\n                      </div>\r\n                      <div className=\"space-y-2\">\r\n                        <Label>E-mail *</Label>\r\n                        <Input\r\n                          type=\"email\"\r\n                          value={shippingData.email}\r\n                          onChange={(e) => setShippingData({ ...shippingData, email: e.target.value })}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"grid sm:grid-cols-2 gap-4\">\r\n                      <div className=\"space-y-2\">\r\n                        <Label>Telefone *</Label>\r\n                        <Input\r\n                          value={shippingData.phone}\r\n                          onChange={(e) => setShippingData({ ...shippingData, phone: formatPhone(e.target.value) })}\r\n                          placeholder=\"(11) 99999-9999\"\r\n                        />\r\n                      </div>\r\n                      <div className=\"space-y-2\">\r\n                        <Label>CPF *</Label>\r\n                        <Input\r\n                          value={shippingData.cpf}\r\n                          onChange={(e) => setShippingData({ ...shippingData, cpf: formatCPF(e.target.value) })}\r\n                          placeholder=\"000.000.000-00\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  </CardContent>\r\n                </Card>\r\n\r\n                <Card>\r\n                  <CardHeader>\r\n                    <CardTitle>Endere├ºo de Entrega</CardTitle>\r\n                  </CardHeader>\r\n                  <CardContent className=\"grid gap-4\">\r\n                    <div className=\"grid sm:grid-cols-3 gap-4\">\r\n                      <div className=\"space-y-2\">\r\n                        <Label>CEP *</Label>\r\n                        <div className=\"relative\">\r\n                          <Input\r\n                            value={shippingData.cep}\r\n                            onChange={(e) => {\r\n                              const formatted = formatCEP_mask(e.target.value);\r\n                              setShippingData({ ...shippingData, cep: formatted });\r\n                              if (formatted.replace(/\\D/g, '').length === 8) {\r\n                                handleCepSearch(formatted);\r\n                              }\r\n                            }}\r\n                            placeholder=\"00000-000\"\r\n                          />\r\n                          <Search className=\"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground\" />\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"grid sm:grid-cols-3 gap-4\">\r\n                      <div className=\"sm:col-span-2 space-y-2\">\r\n                        <Label>Rua *</Label>\r\n                        <Input\r\n                          value={shippingData.street}\r\n                          onChange={(e) => setShippingData({ ...shippingData, street: e.target.value })}\r\n                        />\r\n                      </div>\r\n                      <div className=\"space-y-2\">\r\n                        <Label>N├║mero *</Label>\r\n                        <Input\r\n                          value={shippingData.number}\r\n                          onChange={(e) => setShippingData({ ...shippingData, number: e.target.value })}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"grid sm:grid-cols-2 gap-4\">\r\n                      <div className=\"space-y-2\">\r\n                        <Label>Complemento</Label>\r\n                        <Input\r\n                          value={shippingData.complement}\r\n                          onChange={(e) => setShippingData({ ...shippingData, complement: e.target.value })}\r\n                          placeholder=\"Apto, Bloco, etc.\"\r\n                        />\r\n                      </div>\r\n                      <div className=\"space-y-2\">\r\n                        <Label>Bairro *</Label>\r\n                        <Input\r\n                          value={shippingData.neighborhood}\r\n                          onChange={(e) => setShippingData({ ...shippingData, neighborhood: e.target.value })}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"grid sm:grid-cols-2 gap-4\">\r\n                      <div className=\"space-y-2\">\r\n                        <Label>Cidade *</Label>\r\n                        <Input\r\n                          value={shippingData.city}\r\n                          onChange={(e) => setShippingData({ ...shippingData, city: e.target.value })}\r\n                        />\r\n                      </div>\r\n                      <div className=\"space-y-2\">\r\n                        <Label>Estado *</Label>\r\n                        <Input\r\n                          value={shippingData.state}\r\n                          onChange={(e) => setShippingData({ ...shippingData, state: e.target.value })}\r\n                          placeholder=\"SP\"\r\n                          maxLength={2}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  </CardContent>\r\n                </Card>\r\n\r\n                {/* Dynamic Shipping Options */}\r\n                <Card>\r\n                  <CardHeader>\r\n                    <CardTitle className=\"flex items-center gap-2\">\r\n                      <Package className=\"h-5 w-5\" />\r\n                      M├®todo de Envio\r\n                    </CardTitle>\r\n                  </CardHeader>\r\n                  <CardContent>\r\n                    {isLoadingShipping ? (\r\n                      <div className=\"space-y-3\">\r\n                        <Skeleton className=\"h-16 rounded-lg\" />\r\n                        <Skeleton className=\"h-16 rounded-lg\" />\r\n                      </div>\r\n                    ) : shippingOptions.length === 0 ? (\r\n                      <div className=\"text-center py-6 text-muted-foreground\">\r\n                        <Truck className=\"h-8 w-8 mx-auto mb-2 opacity-50\" />\r\n                        <p>Digite seu CEP para calcular o frete</p>\r\n                      </div>\r\n                    ) : (\r\n                      <>\r\n                        {shippingFallback && (\r\n                          <p className=\"text-xs text-amber-600 mb-3\">\r\n                            ÔÜá´©Å Valores estimados. O valor final pode variar.\r\n                          </p>\r\n                        )}\r\n                        <RadioGroup\r\n                          value={selectedShippingId?.toString() || ''}\r\n                          onValueChange={(v) => setSelectedShippingId(Number(v))}\r\n                        >\r\n                          {shippingOptions.map((option) => (\r\n                            <label\r\n                              key={option.id}\r\n                              className={cn(\r\n                                'flex items-center justify-between p-4 rounded-lg border cursor-pointer transition-colors',\r\n                                selectedShippingId === option.id ? 'border-primary bg-primary/5' : 'border-border hover:border-foreground/30'\r\n                              )}\r\n                            >\r\n                              <div className=\"flex items-center gap-3\">\r\n                                <RadioGroupItem value={option.id.toString()} />\r\n                                {option.name.toLowerCase().includes('sedex') ? (\r\n                                  <Zap className=\"h-5 w-5 text-muted-foreground\" />\r\n                                ) : (\r\n                                  <Truck className=\"h-5 w-5 text-muted-foreground\" />\r\n                                )}\r\n                                <div>\r\n                                  <span className=\"font-medium\">{option.name}</span>\r\n                                  {option.company && (\r\n                                    <span className=\"text-xs text-muted-foreground ml-1\">({option.company})</span>\r\n                                  )}\r\n                                  <p className=\"text-sm text-muted-foreground\">\r\n                                    {option.delivery_time} dias ├║teis\r\n                                  </p>\r\n                                </div>\r\n                              </div>\r\n                              <span className=\"font-bold\">{formatPrice(option.price)}</span>\r\n                            </label>\r\n                          ))}\r\n                        </RadioGroup>\r\n                      </>\r\n                    )}\r\n                  </CardContent>\r\n                </Card>\r\n\r\n                <Button type=\"submit\" size=\"lg\" className=\"w-full\" disabled={!selectedShippingId}>\r\n                  Continuar para Pagamento\r\n                </Button>\r\n              </form>\r\n            )}\r\n\r\n            {step === 'payment' && (\r\n              <div className=\"space-y-6\">\r\n                <Card>\r\n                  <CardHeader>\r\n                    <CardTitle>Forma de Pagamento</CardTitle>\r\n                  </CardHeader>\r\n                  <CardContent>\r\n                    <RadioGroup value={paymentMethod} onValueChange={(v) => setPaymentMethod(v as 'pix' | 'card' | 'boleto')}>\r\n                      {Object.entries(paymentOptions).map(([key, option]) => (\r\n                        <label\r\n                          key={key}\r\n                          className={cn(\r\n                            'flex items-center justify-between p-4 rounded-lg border cursor-pointer transition-colors',\r\n                            paymentMethod === key ? 'border-primary bg-primary/5' : 'border-border hover:border-foreground/30'\r\n                          )}\r\n                        >\r\n                          <div className=\"flex items-center gap-3\">\r\n                            <RadioGroupItem value={key} />\r\n                            <option.icon className=\"h-5 w-5 text-muted-foreground\" />\r\n                            <div>\r\n                              <span className=\"font-medium\">{option.name}</span>\r\n                              <p className=\"text-sm text-muted-foreground\">{option.description}</p>\r\n                            </div>\r\n                          </div>\r\n                          {option.discount > 0 && (\r\n                            <span className=\"text-sm font-medium text-green-500\">\r\n                              -{(option.discount * 100)}%\r\n                            </span>\r\n                          )}\r\n                        </label>\r\n                      ))}\r\n                    </RadioGroup>\r\n                  </CardContent>\r\n                </Card>\r\n\r\n                {paymentMethod === 'pix' && (\r\n                  <Card>\r\n                    <CardContent className=\"p-6 text-center\">\r\n                      <QrCode className=\"h-12 w-12 mx-auto mb-3 text-primary/60\" />\r\n                      <p className=\"text-muted-foreground\">\r\n                        O QR Code do PIX ser├í gerado ap├│s a confirma├º├úo do pedido.\r\n                      </p>\r\n                      <p className=\"text-xs text-muted-foreground mt-1\">\r\n                        Voc├¬ ter├í 30 minutos para realizar o pagamento.\r\n                      </p>\r\n                    </CardContent>\r\n                  </Card>\r\n                )}\r\n\r\n                {paymentMethod === 'card' && (\r\n                  <Card>\r\n                    <CardHeader>\r\n                      <CardTitle>Dados do Cart├úo</CardTitle>\r\n                    </CardHeader>\r\n                    <CardContent className=\"grid gap-4\">\r\n                      <div className=\"space-y-2\">\r\n                        <Label>N├║mero do Cart├úo</Label>\r\n                        <Input\r\n                          placeholder=\"0000 0000 0000 0000\"\r\n                          value={cardData.number}\r\n                          onChange={(e) => setCardData({ ...cardData, number: e.target.value })}\r\n                        />\r\n                      </div>\r\n                      <div className=\"grid grid-cols-3 gap-4\">\r\n                        <div className=\"space-y-2\">\r\n                          <Label>M├¬s</Label>\r\n                          <Input\r\n                            placeholder=\"MM\"\r\n                            maxLength={2}\r\n                            value={cardData.expiryMonth}\r\n                            onChange={(e) => setCardData({ ...cardData, expiryMonth: e.target.value })}\r\n                          />\r\n                        </div>\r\n                        <div className=\"space-y-2\">\r\n                          <Label>Ano</Label>\r\n                          <Input\r\n                            placeholder=\"AAAA\"\r\n                            maxLength={4}\r\n                            value={cardData.expiryYear}\r\n                            onChange={(e) => setCardData({ ...cardData, expiryYear: e.target.value })}\r\n                          />\r\n                        </div>\r\n                        <div className=\"space-y-2\">\r\n                          <Label>CVV</Label>\r\n                          <Input\r\n                            placeholder=\"000\"\r\n                            maxLength={4}\r\n                            value={cardData.ccv}\r\n                            onChange={(e) => setCardData({ ...cardData, ccv: e.target.value })}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"space-y-2\">\r\n                        <Label>Nome no Cart├úo</Label>\r\n                        <Input\r\n                          placeholder=\"Como est├í impresso no cart├úo\"\r\n                          value={cardData.holderName}\r\n                          onChange={(e) => setCardData({ ...cardData, holderName: e.target.value.toUpperCase() })}\r\n                        />\r\n                      </div>\r\n                    </CardContent>\r\n                  </Card>\r\n                )}\r\n\r\n                {paymentMethod === 'boleto' && (\r\n                  <Card>\r\n                    <CardContent className=\"p-6 text-center\">\r\n                      <FileText className=\"h-12 w-12 mx-auto mb-3 text-primary/60\" />\r\n                      <p className=\"text-muted-foreground\">\r\n                        O boleto ser├í gerado ap├│s a confirma├º├úo do pedido.\r\n                      </p>\r\n                      <p className=\"text-xs text-muted-foreground mt-1\">\r\n                        Vencimento em 3 dias ├║teis. O pedido ser├í processado ap├│s a compensa├º├úo.\r\n                      </p>\r\n                    </CardContent>\r\n                  </Card>\r\n                )}\r\n\r\n                <Button\r\n                  size=\"lg\"\r\n                  className=\"w-full\"\r\n                  onClick={handlePaymentSubmit}\r\n                  disabled={isProcessing}\r\n                >\r\n                  {isProcessing && <Loader2 className=\"h-4 w-4 mr-2 animate-spin\" />}\r\n                  {isProcessing ? 'Processando...' : `Finalizar Pedido ÔÇö ${formatPrice(total)}`}\r\n                </Button>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Summary */}\r\n          <div>\r\n            <Card className=\"sticky top-20\">\r\n              <CardHeader>\r\n                <CardTitle>Resumo do Pedido</CardTitle>\r\n              </CardHeader>\r\n              <CardContent className=\"space-y-4\">\r\n                {/* Items */}\r\n                <div className=\"space-y-3 max-h-48 overflow-y-auto\">\r\n                  {items.map((item) => (\r\n                    <div key={`${item.product.id}-${item.variant?.id}`} className=\"flex gap-3\">\r\n                      <img\r\n                        src={item.product.images[0] || '/placeholder.svg'}\r\n                        alt={item.product.title}\r\n                        className=\"h-12 w-12 rounded object-cover\"\r\n                      />\r\n                      <div className=\"flex-1 min-w-0\">\r\n                        <p className=\"text-sm font-medium truncate\">{item.product.title}</p>\r\n                        <p className=\"text-xs text-muted-foreground\">\r\n                          Qtd: {item.quantity} ├ù {formatPrice(getItemPrice(item))}\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n\r\n                <div className=\"border-t border-border pt-4 space-y-2 text-sm\">\r\n                  {isWholesale && (\r\n                    <div className=\"bg-green-500/10 border border-green-500/30 rounded-lg p-2 mb-2 text-center\">\r\n                      <span className=\"text-green-600 font-bold text-xs\">­ƒÅÀ´©Å ATACADO ATIVO ÔÇö 6+ pe├ºas</span>\r\n                    </div>\r\n                  )}\r\n                  <div className=\"flex justify-between\">\r\n                    <span className=\"text-muted-foreground\">Subtotal</span>\r\n                    <span>{formatPrice(subtotal)}</span>\r\n                  </div>\r\n                  {isWholesale && wholesaleSavings > 0 && (\r\n                    <div className=\"flex justify-between text-green-600\">\r\n                      <span>Economia atacado</span>\r\n                      <span>-{formatPrice(wholesaleSavings)}</span>\r\n                    </div>\r\n                  )}\r\n                  <div className=\"flex justify-between\">\r\n                    <span className=\"text-muted-foreground\">\r\n                      Frete {selectedShipping ? `(${selectedShipping.name})` : ''}\r\n                    </span>\r\n                    <span>{shippingCost > 0 ? formatPrice(shippingCost) : 'A calcular'}</span>\r\n                  </div>\r\n                  {discount > 0 && (\r\n                    <div className=\"flex justify-between text-green-500\">\r\n                      <span>Desconto ({paymentOptions[paymentMethod].name})</span>\r\n                      <span>-{formatPrice(discount)}</span>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n\r\n                <div className=\"border-t border-border pt-4\">\r\n                  <div className=\"flex justify-between items-center\">\r\n                    <span className=\"font-bold\">Total</span>\r\n                    <span className=\"text-xl font-bold text-primary\">{formatPrice(total)}</span>\r\n                  </div>\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* PIX QR Code Modal */}\r\n      <PixQRCodeModal\r\n        isOpen={showPixModal}\r\n        orderId={pixData.orderId}\r\n        pixQrCode={pixData.qrCode}\r\n        pixPayload={pixData.payload}\r\n        value={pixData.value}\r\n        onPaymentConfirmed={handlePixConfirmed}\r\n        onClose={() => {\r\n          setShowPixModal(false);\r\n          clearCart();\r\n          setStep('confirmation');\r\n        }}\r\n      />\r\n    </Layout>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\pages\\FavoritesPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\pages\\HomePage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\pages\\Index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\pages\\InstallPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\pages\\LoginPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\pages\\NotFound.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\pages\\ProductDetailPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\pages\\ProductsPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\pages\\RegisterPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\pages\\account\\AddressesPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\pages\\account\\OrdersPage.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":36,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":36,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1745,1748],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1745,1748],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":69,"column":26,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":69,"endColumn":29,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2698,2701],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2698,2701],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport { Layout } from '@/components/layout';\r\nimport { useAuth } from '@/hooks/useAuth';\r\nimport { supabase } from '@/integrations/supabase/client';\r\nimport { Card, CardContent } from '@/components/ui/card';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Badge } from '@/components/ui/badge';\r\nimport { Skeleton } from '@/components/ui/skeleton';\r\nimport { ArrowLeft, Package, ChevronDown, ChevronUp } from 'lucide-react';\r\n\r\nconst statusLabels: Record<string, { label: string; className: string }> = {\r\n  pending: { label: 'Pendente', className: 'bg-yellow-500/20 text-yellow-700 border-yellow-500/30' },\r\n  paid: { label: 'Pago', className: 'bg-blue-500/20 text-blue-700 border-blue-500/30' },\r\n  processing: { label: 'Em preparo', className: 'bg-orange-500/20 text-orange-700 border-orange-500/30' },\r\n  shipped: { label: 'Enviado', className: 'bg-purple-500/20 text-purple-700 border-purple-500/30' },\r\n  delivered: { label: 'Entregue', className: 'bg-green-500/20 text-green-700 border-green-500/30' },\r\n  cancelled: { label: 'Cancelado', className: 'bg-red-500/20 text-red-700 border-red-500/30' },\r\n};\r\n\r\nconst formatPrice = (price: number) =>\r\n  new Intl.NumberFormat('pt-BR', { style: 'currency', currency: 'BRL' }).format(price);\r\n\r\nconst formatDate = (date: string) =>\r\n  new Date(date).toLocaleDateString('pt-BR', { day: '2-digit', month: '2-digit', year: 'numeric' });\r\n\r\ninterface OrderRow {\r\n  id: string;\r\n  status: string;\r\n  subtotal: number;\r\n  shipping_cost: number | null;\r\n  discount: number | null;\r\n  total: number;\r\n  payment_method: string | null;\r\n  shipping_method: string | null;\r\n  shipping_address: any;\r\n  tracking_code: string | null;\r\n  created_at: string;\r\n  order_items: {\r\n    id: string;\r\n    product_name: string;\r\n    variant_info: string | null;\r\n    quantity: number;\r\n    unit_price: number;\r\n  }[];\r\n}\r\n\r\nexport default function OrdersPage() {\r\n  const navigate = useNavigate();\r\n  const { user, isLoading: authLoading } = useAuth();\r\n  const [orders, setOrders] = useState<OrderRow[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [expandedId, setExpandedId] = useState<string | null>(null);\r\n\r\n  useEffect(() => {\r\n    if (!authLoading && !user) {\r\n      navigate('/login');\r\n    }\r\n  }, [user, authLoading, navigate]);\r\n\r\n  useEffect(() => {\r\n    if (!user) return;\r\n    const fetchOrders = async () => {\r\n      const { data } = await supabase\r\n        .from('orders')\r\n        .select('*, order_items(*)')\r\n        .eq('user_id', user.id)\r\n        .order('created_at', { ascending: false });\r\n      setOrders((data as any) || []);\r\n      setLoading(false);\r\n    };\r\n    fetchOrders();\r\n  }, [user]);\r\n\r\n  if (authLoading || loading) {\r\n    return (\r\n      <Layout>\r\n        <div className=\"container py-4 space-y-4\">\r\n          <Skeleton className=\"h-8 w-48\" />\r\n          <Skeleton className=\"h-32 rounded-xl\" />\r\n          <Skeleton className=\"h-32 rounded-xl\" />\r\n        </div>\r\n      </Layout>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Layout>\r\n      <div className=\"container py-4 space-y-6\">\r\n        <div className=\"flex items-center gap-3\">\r\n          <Button variant=\"ghost\" size=\"icon\" asChild>\r\n            <Link to=\"/minha-conta\"><ArrowLeft className=\"h-5 w-5\" /></Link>\r\n          </Button>\r\n          <h1 className=\"text-2xl font-bold\">Meus Pedidos</h1>\r\n        </div>\r\n\r\n        {orders.length === 0 ? (\r\n          <div className=\"text-center py-16 space-y-4\">\r\n            <Package className=\"h-16 w-16 mx-auto text-muted-foreground\" />\r\n            <h2 className=\"text-lg font-semibold\">Nenhum pedido ainda</h2>\r\n            <p className=\"text-muted-foreground\">Voc├¬ ainda n├úo fez nenhum pedido.</p>\r\n            <Button asChild><Link to=\"/produtos\">Ver Produtos</Link></Button>\r\n          </div>\r\n        ) : (\r\n          <div className=\"space-y-4\">\r\n            {orders.map((order) => {\r\n              const isExpanded = expandedId === order.id;\r\n              const status = statusLabels[order.status] || statusLabels.pending;\r\n              return (\r\n                <Card key={order.id}>\r\n                  <CardContent className=\"p-4\">\r\n                    <button\r\n                      className=\"w-full text-left\"\r\n                      onClick={() => setExpandedId(isExpanded ? null : order.id)}\r\n                    >\r\n                      <div className=\"flex items-center justify-between\">\r\n                        <div>\r\n                          <p className=\"text-sm text-muted-foreground\">\r\n                            Pedido #{order.id.slice(0, 8).toUpperCase()}\r\n                          </p>\r\n                          <p className=\"text-xs text-muted-foreground\">{formatDate(order.created_at)}</p>\r\n                        </div>\r\n                        <div className=\"flex items-center gap-3\">\r\n                          <Badge className={status.className}>{status.label}</Badge>\r\n                          <span className=\"font-bold\">{formatPrice(order.total)}</span>\r\n                          {isExpanded ? <ChevronUp className=\"h-4 w-4\" /> : <ChevronDown className=\"h-4 w-4\" />}\r\n                        </div>\r\n                      </div>\r\n                    </button>\r\n\r\n                    {isExpanded && (\r\n                      <div className=\"mt-4 border-t border-border pt-4 space-y-3\">\r\n                        <div className=\"space-y-2\">\r\n                          {order.order_items.map((item) => (\r\n                            <div key={item.id} className=\"flex justify-between text-sm\">\r\n                              <span>\r\n                                {item.product_name}\r\n                                {item.variant_info && <span className=\"text-muted-foreground\"> ({item.variant_info})</span>}\r\n                                <span className=\"text-muted-foreground\"> ├ù {item.quantity}</span>\r\n                              </span>\r\n                              <span>{formatPrice(item.unit_price * item.quantity)}</span>\r\n                            </div>\r\n                          ))}\r\n                        </div>\r\n\r\n                        <div className=\"text-sm space-y-1 border-t border-border pt-2\">\r\n                          <div className=\"flex justify-between text-muted-foreground\">\r\n                            <span>Subtotal</span>\r\n                            <span>{formatPrice(order.subtotal)}</span>\r\n                          </div>\r\n                          {(order.shipping_cost ?? 0) > 0 && (\r\n                            <div className=\"flex justify-between text-muted-foreground\">\r\n                              <span>Frete</span>\r\n                              <span>{formatPrice(order.shipping_cost!)}</span>\r\n                            </div>\r\n                          )}\r\n                          {(order.discount ?? 0) > 0 && (\r\n                            <div className=\"flex justify-between text-green-600\">\r\n                              <span>Desconto</span>\r\n                              <span>-{formatPrice(order.discount!)}</span>\r\n                            </div>\r\n                          )}\r\n                        </div>\r\n\r\n                        {order.tracking_code && (\r\n                          <div className=\"text-sm\">\r\n                            <span className=\"text-muted-foreground\">Rastreio: </span>\r\n                            <span className=\"font-mono font-medium\">{order.tracking_code}</span>\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    )}\r\n                  </CardContent>\r\n                </Card>\r\n              );\r\n            })}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </Layout>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\pages\\account\\ProfilePage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\pages\\admin\\AdminLayout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\pages\\admin\\BannersPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\pages\\admin\\BrandsPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\pages\\admin\\CategoriesPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\pages\\admin\\CustomersPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\pages\\admin\\DashboardPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\pages\\admin\\OrderDetailPage.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":65,"column":53,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":65,"endColumn":56,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2121,2124],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2121,2124],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":101,"column":50,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":101,"endColumn":53,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3757,3760],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3757,3760],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport { AdminLayout } from './AdminLayout';\r\nimport { useAdminOrder, useAdminOrders } from '@/hooks/admin/useAdminOrders';\r\nimport { OrderStatusBadge } from '@/components/admin/OrderStatusBadge';\r\nimport { OrderStatusSelect } from '@/components/admin/OrderStatusSelect';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Input } from '@/components/ui/input';\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\r\nimport { Separator } from '@/components/ui/separator';\r\nimport {\r\n  ArrowLeft,\r\n  Package,\r\n  MapPin,\r\n  CreditCard,\r\n  Truck,\r\n  User,\r\n  Phone,\r\n  Loader2,\r\n  Save,\r\n} from 'lucide-react';\r\nimport { format } from 'date-fns';\r\nimport { ptBR } from 'date-fns/locale';\r\nimport { OrderStatus } from '@/types';\r\nimport { useIsMobile } from '@/hooks/use-mobile';\r\n\r\nexport default function OrderDetailPage() {\r\n  const { id } = useParams<{ id: string }>();\r\n  const navigate = useNavigate();\r\n  const isMobile = useIsMobile();\r\n  const { data: order, isLoading } = useAdminOrder(id || '');\r\n  const { updateStatus, updateTracking, isUpdating } = useAdminOrders();\r\n  const [trackingCode, setTrackingCode] = useState('');\r\n\r\n  const formatCurrency = (value: number) => {\r\n    return new Intl.NumberFormat('pt-BR', {\r\n      style: 'currency',\r\n      currency: 'BRL',\r\n    }).format(value);\r\n  };\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <AdminLayout>\r\n        <div className=\"flex items-center justify-center py-12\">\r\n          <Loader2 className=\"h-8 w-8 animate-spin text-muted-foreground\" />\r\n        </div>\r\n      </AdminLayout>\r\n    );\r\n  }\r\n\r\n  if (!order) {\r\n    return (\r\n      <AdminLayout>\r\n        <div className=\"flex flex-col items-center justify-center py-12\">\r\n          <p className=\"text-muted-foreground mb-4\">Pedido n├úo encontrado</p>\r\n          <Button onClick={() => navigate('/admin/pedidos')}>\r\n            Voltar para pedidos\r\n          </Button>\r\n        </div>\r\n      </AdminLayout>\r\n    );\r\n  }\r\n\r\n  const shippingAddress = order.shipping_address as any;\r\n\r\n  return (\r\n    <AdminLayout>\r\n      <div className=\"space-y-4 sm:space-y-6\">\r\n        {/* Header */}\r\n        <div className=\"flex items-start sm:items-center gap-3 sm:gap-4\">\r\n          <Button variant=\"ghost\" size=\"icon\" onClick={() => navigate('/admin/pedidos')} className=\"shrink-0\">\r\n            <ArrowLeft className=\"h-4 w-4\" />\r\n          </Button>\r\n          <div className=\"flex-1 min-w-0\">\r\n            <h1 className=\"text-lg sm:text-2xl font-bold truncate\">\r\n              Pedido #{order.id.slice(0, 8).toUpperCase()}\r\n            </h1>\r\n            <p className=\"text-xs sm:text-sm text-muted-foreground\">\r\n              {format(new Date(order.created_at), isMobile ? \"dd/MM/yy HH:mm\" : \"dd 'de' MMMM 'de' yyyy '├ás' HH:mm\", {\r\n                locale: ptBR,\r\n              })}\r\n            </p>\r\n          </div>\r\n          <OrderStatusBadge status={order.status as OrderStatus} className=\"text-xs sm:text-base px-2 sm:px-4 py-0.5 sm:py-1 shrink-0\" />\r\n        </div>\r\n\r\n        <div className=\"grid gap-4 sm:gap-6 grid-cols-1 lg:grid-cols-3\">\r\n          {/* Main Content */}\r\n          <div className=\"lg:col-span-2 space-y-4 sm:space-y-6\">\r\n            {/* Order Items */}\r\n            <Card>\r\n              <CardHeader className=\"pb-3 sm:pb-6\">\r\n                <CardTitle className=\"flex items-center gap-2 text-base sm:text-lg\">\r\n                  <Package className=\"h-5 w-5\" />\r\n                  Itens do Pedido\r\n                </CardTitle>\r\n              </CardHeader>\r\n              <CardContent>\r\n                <div className=\"space-y-3 sm:space-y-4\">\r\n                  {order.order_items?.map((item: any) => (\r\n                    <div\r\n                      key={item.id}\r\n                      className=\"flex items-center justify-between py-2 sm:py-3 border-b last:border-0\"\r\n                    >\r\n                      <div className=\"min-w-0 flex-1\">\r\n                        <p className=\"font-medium text-sm sm:text-base truncate\">{item.product_name}</p>\r\n                        {item.variant_info && (\r\n                          <p className=\"text-xs sm:text-sm text-muted-foreground\">{item.variant_info}</p>\r\n                        )}\r\n                      </div>\r\n                      <div className=\"text-right shrink-0 ml-3\">\r\n                        <p className=\"font-medium text-sm sm:text-base\">{formatCurrency(Number(item.unit_price))}</p>\r\n                        <p className=\"text-xs sm:text-sm text-muted-foreground\">\r\n                          Qtd: {item.quantity}\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n                <Separator className=\"my-4\" />\r\n                <div className=\"space-y-2\">\r\n                  <div className=\"flex justify-between text-sm\">\r\n                    <span className=\"text-muted-foreground\">Subtotal</span>\r\n                    <span>{formatCurrency(Number(order.subtotal))}</span>\r\n                  </div>\r\n                  {order.discount && Number(order.discount) > 0 && (\r\n                    <div className=\"flex justify-between text-sm text-green-600\">\r\n                      <span>Desconto</span>\r\n                      <span>-{formatCurrency(Number(order.discount))}</span>\r\n                    </div>\r\n                  )}\r\n                  <div className=\"flex justify-between text-sm\">\r\n                    <span className=\"text-muted-foreground\">Frete</span>\r\n                    <span>{formatCurrency(Number(order.shipping_cost || 0))}</span>\r\n                  </div>\r\n                  <Separator />\r\n                  <div className=\"flex justify-between font-bold text-base sm:text-lg\">\r\n                    <span>Total</span>\r\n                    <span>{formatCurrency(Number(order.total))}</span>\r\n                  </div>\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n\r\n            {/* Shipping Address */}\r\n            {shippingAddress && (\r\n              <Card>\r\n                <CardHeader className=\"pb-3 sm:pb-6\">\r\n                  <CardTitle className=\"flex items-center gap-2 text-base sm:text-lg\">\r\n                    <MapPin className=\"h-5 w-5\" />\r\n                    Endere├ºo de Entrega\r\n                  </CardTitle>\r\n                </CardHeader>\r\n                <CardContent>\r\n                  <p className=\"font-medium text-sm sm:text-base\">{shippingAddress.label || 'Endere├ºo'}</p>\r\n                  <p className=\"text-sm text-muted-foreground\">\r\n                    {shippingAddress.street}, {shippingAddress.number}\r\n                    {shippingAddress.complement && ` - ${shippingAddress.complement}`}\r\n                  </p>\r\n                  <p className=\"text-sm text-muted-foreground\">\r\n                    {shippingAddress.neighborhood} - {shippingAddress.city}/{shippingAddress.state}\r\n                  </p>\r\n                  <p className=\"text-sm text-muted-foreground\">CEP: {shippingAddress.cep}</p>\r\n                </CardContent>\r\n              </Card>\r\n            )}\r\n          </div>\r\n\r\n          {/* Sidebar */}\r\n          <div className=\"space-y-4 sm:space-y-6\">\r\n            {/* Status Update */}\r\n            <Card>\r\n              <CardHeader className=\"pb-3 sm:pb-6\">\r\n                <CardTitle className=\"text-base sm:text-lg\">Atualizar Status</CardTitle>\r\n              </CardHeader>\r\n              <CardContent>\r\n                <OrderStatusSelect\r\n                  value={order.status}\r\n                  onValueChange={(status) =>\r\n                    updateStatus({ orderId: order.id, status })\r\n                  }\r\n                  disabled={isUpdating}\r\n                />\r\n              </CardContent>\r\n            </Card>\r\n\r\n            {/* Tracking */}\r\n            <Card>\r\n              <CardHeader className=\"pb-3 sm:pb-6\">\r\n                <CardTitle className=\"flex items-center gap-2 text-base sm:text-lg\">\r\n                  <Truck className=\"h-5 w-5\" />\r\n                  Rastreamento\r\n                </CardTitle>\r\n              </CardHeader>\r\n              <CardContent className=\"space-y-4\">\r\n                {order.tracking_code ? (\r\n                  <div className=\"p-3 bg-muted rounded-lg\">\r\n                    <p className=\"text-xs sm:text-sm text-muted-foreground mb-1\">C├│digo de rastreio:</p>\r\n                    <p className=\"font-mono font-medium text-sm sm:text-base break-all\">{order.tracking_code}</p>\r\n                  </div>\r\n                ) : (\r\n                  <div className=\"space-y-2\">\r\n                    <Input\r\n                      placeholder=\"C├│digo de rastreio\"\r\n                      value={trackingCode}\r\n                      onChange={(e) => setTrackingCode(e.target.value)}\r\n                    />\r\n                    <Button\r\n                      className=\"w-full\"\r\n                      onClick={() => {\r\n                        if (trackingCode.trim()) {\r\n                          updateTracking({ orderId: order.id, trackingCode: trackingCode.trim() });\r\n                          setTrackingCode('');\r\n                        }\r\n                      }}\r\n                      disabled={!trackingCode.trim() || isUpdating}\r\n                    >\r\n                      <Save className=\"h-4 w-4 mr-2\" />\r\n                      Salvar Rastreio\r\n                    </Button>\r\n                  </div>\r\n                )}\r\n              </CardContent>\r\n            </Card>\r\n\r\n            {/* Customer Info */}\r\n            {order.profile && (\r\n              <Card>\r\n                <CardHeader className=\"pb-3 sm:pb-6\">\r\n                  <CardTitle className=\"flex items-center gap-2 text-base sm:text-lg\">\r\n                    <User className=\"h-5 w-5\" />\r\n                    Cliente\r\n                  </CardTitle>\r\n                </CardHeader>\r\n                <CardContent className=\"space-y-3\">\r\n                  <div>\r\n                    <p className=\"text-xs sm:text-sm text-muted-foreground\">Nome</p>\r\n                    <p className=\"font-medium text-sm sm:text-base\">{order.profile.full_name || 'N├úo informado'}</p>\r\n                  </div>\r\n                  {order.profile.phone && (\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <Phone className=\"h-4 w-4 text-muted-foreground shrink-0\" />\r\n                      <span className=\"text-sm\">{order.profile.phone}</span>\r\n                    </div>\r\n                  )}\r\n                  {order.profile.cpf && (\r\n                    <div>\r\n                      <p className=\"text-xs sm:text-sm text-muted-foreground\">CPF</p>\r\n                      <p className=\"text-sm\">{order.profile.cpf}</p>\r\n                    </div>\r\n                  )}\r\n                </CardContent>\r\n              </Card>\r\n            )}\r\n\r\n            {/* Payment Info */}\r\n            <Card>\r\n              <CardHeader className=\"pb-3 sm:pb-6\">\r\n                <CardTitle className=\"flex items-center gap-2 text-base sm:text-lg\">\r\n                  <CreditCard className=\"h-5 w-5\" />\r\n                  Pagamento\r\n                </CardTitle>\r\n              </CardHeader>\r\n              <CardContent>\r\n                <p className=\"font-medium text-sm sm:text-base capitalize\">\r\n                  {order.payment_method === 'pix'\r\n                    ? 'PIX'\r\n                    : order.payment_method === 'card'\r\n                    ? 'Cart├úo de Cr├®dito'\r\n                    : order.payment_method === 'boleto'\r\n                    ? 'Boleto'\r\n                    : 'N├úo informado'}\r\n                </p>\r\n              </CardContent>\r\n            </Card>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </AdminLayout>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\pages\\admin\\OrdersPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\pages\\admin\\ProductFormPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\pages\\admin\\ProductsPage.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":58,"column":36,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":58,"endColumn":39,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2361,2364],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2361,2364],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":60,"column":41,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":60,"endColumn":44,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2471,2474],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2471,2474],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect } from 'react';\r\nimport { Link, useSearchParams } from 'react-router-dom';\r\nimport { AdminLayout } from './AdminLayout';\r\nimport { useAdminProducts } from '@/hooks/admin/useAdminProducts';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Input } from '@/components/ui/input';\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\r\nimport { Badge } from '@/components/ui/badge';\r\nimport {\r\n  Table, TableBody, TableCell, TableHead, TableHeader, TableRow,\r\n} from '@/components/ui/table';\r\nimport {\r\n  AlertDialog, AlertDialogAction, AlertDialogCancel, AlertDialogContent,\r\n  AlertDialogDescription, AlertDialogFooter, AlertDialogHeader, AlertDialogTitle, AlertDialogTrigger,\r\n} from '@/components/ui/alert-dialog';\r\nimport { Plus, Search, Loader2, Pencil, Trash2, Package, Download, ChevronLeft, ChevronRight } from 'lucide-react';\r\nimport { useIsMobile } from '@/hooks/use-mobile';\r\n\r\nexport default function ProductsPage() {\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [searchParams, setSearchParams] = useSearchParams();\r\n  const [currentPage, setCurrentPage] = useState(() => {\r\n    const page = parseInt(searchParams.get('page') || '1', 10);\r\n    return page > 0 ? page : 1;\r\n  });\r\n  const pageSize = 20;\r\n  const isMobile = useIsMobile();\r\n\r\n  const { products, isLoading, deleteProduct, isDeleting } = useAdminProducts();\r\n\r\n  const formatCurrency = (value: number) => {\r\n    return new Intl.NumberFormat('pt-BR', { style: 'currency', currency: 'BRL' }).format(value);\r\n  };\r\n\r\n  const filteredProducts = products.filter((product) => {\r\n    return !searchTerm ||\r\n      product.title.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n      product.slug.toLowerCase().includes(searchTerm.toLowerCase());\r\n  });\r\n\r\n  const totalPages = Math.ceil(filteredProducts.length / pageSize);\r\n  const paginatedProducts = filteredProducts.slice(\r\n    (currentPage - 1) * pageSize,\r\n    currentPage * pageSize\r\n  );\r\n\r\n  useEffect(() => {\r\n    const params: Record<string, string> = {};\r\n    if (currentPage > 1) params.page = String(currentPage);\r\n    setSearchParams(params, { replace: true });\r\n  }, [currentPage, setSearchParams]);\r\n\r\n  const handleSearch = (value: string) => {\r\n    setSearchTerm(value);\r\n    setCurrentPage(1);\r\n  };\r\n\r\n  const getStockLabel = (variants: any[]) => {\r\n    if (!variants || variants.length === 0) return '-';\r\n    const inStock = variants.filter((v: any) => v.stock !== false).length;\r\n    return `${inStock}/${variants.length}`;\r\n  };\r\n\r\n  return (\r\n    <AdminLayout>\r\n      <div className=\"space-y-4 sm:space-y-6\">\r\n        <div className=\"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between\">\r\n          <div>\r\n            <h1 className=\"text-xl sm:text-2xl font-bold\">Produtos</h1>\r\n            <p className=\"text-sm text-muted-foreground\">Gerencie o cat├ílogo de produtos</p>\r\n          </div>\r\n          <Button asChild className=\"w-full sm:w-auto\">\r\n            <Link to={`/admin/produtos/novo${currentPage > 1 ? `?page=${currentPage}` : ''}`}>\r\n              <Plus className=\"h-4 w-4 mr-2\" />\r\n              Novo Produto\r\n            </Link>\r\n          </Button>\r\n        </div>\r\n\r\n        <Card>\r\n          <CardContent className=\"pt-4 sm:pt-6\">\r\n            <div className=\"relative flex-1\">\r\n              <Search className=\"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground\" />\r\n              <Input\r\n                placeholder=\"Buscar por nome ou slug...\"\r\n                value={searchTerm}\r\n                onChange={(e) => handleSearch(e.target.value)}\r\n                className=\"pl-10\"\r\n              />\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <Card>\r\n          <CardHeader className=\"pb-3 sm:pb-6\">\r\n            <CardTitle className=\"flex items-center gap-2 text-base sm:text-lg\">\r\n              <Package className=\"h-5 w-5\" />\r\n              Lista de Produtos ({filteredProducts.length})\r\n            </CardTitle>\r\n          </CardHeader>\r\n          <CardContent>\r\n            {isLoading ? (\r\n              <div className=\"flex items-center justify-center py-12\">\r\n                <Loader2 className=\"h-8 w-8 animate-spin text-muted-foreground\" />\r\n              </div>\r\n            ) : filteredProducts.length === 0 ? (\r\n              <div className=\"flex flex-col items-center justify-center py-12 text-center\">\r\n                <Package className=\"h-12 w-12 text-muted-foreground mb-4\" />\r\n                <p className=\"text-muted-foreground mb-4\">Nenhum produto encontrado</p>\r\n                <Button asChild>\r\n                  <Link to=\"/admin/produtos/novo\">\r\n                    <Plus className=\"h-4 w-4 mr-2\" />\r\n                    Criar primeiro produto\r\n                  </Link>\r\n                </Button>\r\n              </div>\r\n            ) : isMobile ? (\r\n              <div className=\"space-y-3\">\r\n                {paginatedProducts.map((product) => (\r\n                  <div key={product.id} className=\"p-4 rounded-lg border\">\r\n                    <div className=\"flex gap-3\">\r\n                      {product.images && product.images[0] ? (\r\n                        <img src={product.images[0]} alt={product.title} className=\"h-16 w-16 rounded-lg object-cover shrink-0\" />\r\n                      ) : (\r\n                        <div className=\"h-16 w-16 rounded-lg bg-muted flex items-center justify-center shrink-0\">\r\n                          <Package className=\"h-6 w-6 text-muted-foreground\" />\r\n                        </div>\r\n                      )}\r\n                      <div className=\"min-w-0 flex-1\">\r\n                        <p className=\"font-medium truncate\">{product.title}</p>\r\n                        <p className=\"text-sm font-semibold mt-1\">\r\n                          {product.price_retail ? formatCurrency(Number(product.price_retail)) : '-'}\r\n                        </p>\r\n                        <span className=\"text-xs text-muted-foreground\">\r\n                          Estoque: {getStockLabel(product.variants)}\r\n                        </span>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"flex items-center justify-end mt-3 pt-3 border-t gap-1\">\r\n                      <Button variant=\"ghost\" size=\"icon\" asChild>\r\n                        <Link to={`/admin/produtos/${product.id}${currentPage > 1 ? `?page=${currentPage}` : ''}`}>\r\n                          <Pencil className=\"h-4 w-4\" />\r\n                        </Link>\r\n                      </Button>\r\n                      <AlertDialog>\r\n                        <AlertDialogTrigger asChild>\r\n                          <Button variant=\"ghost\" size=\"icon\" className=\"text-destructive\">\r\n                            <Trash2 className=\"h-4 w-4\" />\r\n                          </Button>\r\n                        </AlertDialogTrigger>\r\n                        <AlertDialogContent>\r\n                          <AlertDialogHeader>\r\n                            <AlertDialogTitle>Excluir produto?</AlertDialogTitle>\r\n                            <AlertDialogDescription>\r\n                              Esta a├º├úo n├úo pode ser desfeita. O produto \"{product.title}\" ser├í permanentemente exclu├¡do.\r\n                            </AlertDialogDescription>\r\n                          </AlertDialogHeader>\r\n                          <AlertDialogFooter>\r\n                            <AlertDialogCancel>Cancelar</AlertDialogCancel>\r\n                            <AlertDialogAction onClick={() => deleteProduct(product.id)} className=\"bg-destructive text-destructive-foreground hover:bg-destructive/90\">\r\n                              Excluir\r\n                            </AlertDialogAction>\r\n                          </AlertDialogFooter>\r\n                        </AlertDialogContent>\r\n                      </AlertDialog>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            ) : (\r\n              <div className=\"overflow-x-auto\">\r\n                <Table>\r\n                  <TableHeader>\r\n                    <TableRow>\r\n                      <TableHead>Produto</TableHead>\r\n                      <TableHead>Pre├ºo Varejo</TableHead>\r\n                      <TableHead>Pre├ºo Atacado</TableHead>\r\n                      <TableHead>Estoque</TableHead>\r\n                      <TableHead className=\"text-right\">A├º├Áes</TableHead>\r\n                    </TableRow>\r\n                  </TableHeader>\r\n                  <TableBody>\r\n                    {paginatedProducts.map((product) => (\r\n                      <TableRow key={product.id}>\r\n                        <TableCell>\r\n                          <div className=\"flex items-center gap-3\">\r\n                            {product.images && product.images[0] ? (\r\n                              <img src={product.images[0]} alt={product.title} className=\"h-10 w-10 rounded-lg object-cover\" />\r\n                            ) : (\r\n                              <div className=\"h-10 w-10 rounded-lg bg-muted flex items-center justify-center\">\r\n                                <Package className=\"h-5 w-5 text-muted-foreground\" />\r\n                              </div>\r\n                            )}\r\n                            <div>\r\n                              <p className=\"font-medium\">{product.title}</p>\r\n                              <p className=\"text-xs text-muted-foreground\">/{product.slug}</p>\r\n                            </div>\r\n                          </div>\r\n                        </TableCell>\r\n                        <TableCell>{product.price_retail ? formatCurrency(Number(product.price_retail)) : '-'}</TableCell>\r\n                        <TableCell>{product.price ? formatCurrency(Number(product.price)) : '-'}</TableCell>\r\n                        <TableCell>{getStockLabel(product.variants)}</TableCell>\r\n                        <TableCell className=\"text-right\">\r\n                          <div className=\"flex items-center justify-end gap-2\">\r\n                            <Button variant=\"ghost\" size=\"icon\" asChild>\r\n                              <Link to={`/admin/produtos/${product.id}${currentPage > 1 ? `?page=${currentPage}` : ''}`}>\r\n                                <Pencil className=\"h-4 w-4\" />\r\n                              </Link>\r\n                            </Button>\r\n                            <AlertDialog>\r\n                              <AlertDialogTrigger asChild>\r\n                                <Button variant=\"ghost\" size=\"icon\" className=\"text-destructive\">\r\n                                  <Trash2 className=\"h-4 w-4\" />\r\n                                </Button>\r\n                              </AlertDialogTrigger>\r\n                              <AlertDialogContent>\r\n                                <AlertDialogHeader>\r\n                                  <AlertDialogTitle>Excluir produto?</AlertDialogTitle>\r\n                                  <AlertDialogDescription>\r\n                                    Esta a├º├úo n├úo pode ser desfeita. O produto \"{product.title}\" ser├í permanentemente exclu├¡do.\r\n                                  </AlertDialogDescription>\r\n                                </AlertDialogHeader>\r\n                                <AlertDialogFooter>\r\n                                  <AlertDialogCancel>Cancelar</AlertDialogCancel>\r\n                                  <AlertDialogAction onClick={() => deleteProduct(product.id)} className=\"bg-destructive text-destructive-foreground hover:bg-destructive/90\">\r\n                                    Excluir\r\n                                  </AlertDialogAction>\r\n                                </AlertDialogFooter>\r\n                              </AlertDialogContent>\r\n                            </AlertDialog>\r\n                          </div>\r\n                        </TableCell>\r\n                      </TableRow>\r\n                    ))}\r\n                  </TableBody>\r\n                </Table>\r\n              </div>\r\n            )}\r\n\r\n            {totalPages > 1 && (\r\n              <div className=\"flex items-center justify-between pt-4 border-t mt-4\">\r\n                <p className=\"text-sm text-muted-foreground\">\r\n                  {(currentPage - 1) * pageSize + 1}ÔÇô{Math.min(currentPage * pageSize, filteredProducts.length)} de {filteredProducts.length}\r\n                </p>\r\n                <div className=\"flex items-center gap-2\">\r\n                  <Button variant=\"outline\" size=\"icon\" disabled={currentPage <= 1} onClick={() => setCurrentPage(p => p - 1)}>\r\n                    <ChevronLeft className=\"h-4 w-4\" />\r\n                  </Button>\r\n                  <span className=\"text-sm\">{currentPage} / {totalPages}</span>\r\n                  <Button variant=\"outline\" size=\"icon\" disabled={currentPage >= totalPages} onClick={() => setCurrentPage(p => p + 1)}>\r\n                    <ChevronRight className=\"h-4 w-4\" />\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n    </AdminLayout>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\pages\\admin\\ReportsPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\pages\\admin\\SettingsPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\pages\\admin\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\services\\paymentService.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\test\\example.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\test\\setup.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\types\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\src\\vite-env.d.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\supabase\\functions\\asaas-webhook\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\supabase\\functions\\calculate-shipping\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\supabase\\functions\\create-payment\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\tailwind.config.ts","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":134,"column":13,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":134,"endColumn":43}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import type { Config } from \"tailwindcss\";\r\n\r\nexport default {\r\n  darkMode: [\"class\"],\r\n  content: [\"./pages/**/*.{ts,tsx}\", \"./components/**/*.{ts,tsx}\", \"./app/**/*.{ts,tsx}\", \"./src/**/*.{ts,tsx}\"],\r\n  prefix: \"\",\r\n  theme: {\r\n    container: {\r\n      center: true,\r\n      padding: \"1rem\",\r\n      screens: {\r\n        \"2xl\": \"1400px\",\r\n      },\r\n    },\r\n    extend: {\r\n      fontFamily: {\r\n        sans: ['Montserrat', 'sans-serif'],\r\n      },\r\n      colors: {\r\n        border: \"hsl(var(--border))\",\r\n        input: \"hsl(var(--input))\",\r\n        ring: \"hsl(var(--ring))\",\r\n        background: \"hsl(var(--background))\",\r\n        foreground: \"hsl(var(--foreground))\",\r\n        primary: {\r\n          DEFAULT: \"hsl(var(--primary))\",\r\n          foreground: \"hsl(var(--primary-foreground))\",\r\n        },\r\n        secondary: {\r\n          DEFAULT: \"hsl(var(--secondary))\",\r\n          foreground: \"hsl(var(--secondary-foreground))\",\r\n        },\r\n        destructive: {\r\n          DEFAULT: \"hsl(var(--destructive))\",\r\n          foreground: \"hsl(var(--destructive-foreground))\",\r\n        },\r\n        muted: {\r\n          DEFAULT: \"hsl(var(--muted))\",\r\n          foreground: \"hsl(var(--muted-foreground))\",\r\n        },\r\n        accent: {\r\n          DEFAULT: \"hsl(var(--accent))\",\r\n          foreground: \"hsl(var(--accent-foreground))\",\r\n        },\r\n        popover: {\r\n          DEFAULT: \"hsl(var(--popover))\",\r\n          foreground: \"hsl(var(--popover-foreground))\",\r\n        },\r\n        card: {\r\n          DEFAULT: \"hsl(var(--card))\",\r\n          foreground: \"hsl(var(--card-foreground))\",\r\n        },\r\n        gold: {\r\n          DEFAULT: \"hsl(var(--gold))\",\r\n          light: \"hsl(var(--gold-light))\",\r\n          dark: \"hsl(var(--gold-dark))\",\r\n        },\r\n        surface: {\r\n          DEFAULT: \"hsl(var(--surface))\",\r\n          elevated: \"hsl(var(--surface-elevated))\",\r\n        },\r\n        sidebar: {\r\n          DEFAULT: \"hsl(var(--sidebar-background))\",\r\n          foreground: \"hsl(var(--sidebar-foreground))\",\r\n          primary: \"hsl(var(--sidebar-primary))\",\r\n          \"primary-foreground\": \"hsl(var(--sidebar-primary-foreground))\",\r\n          accent: \"hsl(var(--sidebar-accent))\",\r\n          \"accent-foreground\": \"hsl(var(--sidebar-accent-foreground))\",\r\n          border: \"hsl(var(--sidebar-border))\",\r\n          ring: \"hsl(var(--sidebar-ring))\",\r\n        },\r\n      },\r\n      borderRadius: {\r\n        lg: \"var(--radius)\",\r\n        md: \"calc(var(--radius) - 2px)\",\r\n        sm: \"calc(var(--radius) - 4px)\",\r\n      },\r\n      keyframes: {\r\n        \"accordion-down\": {\r\n          from: { height: \"0\" },\r\n          to: { height: \"var(--radix-accordion-content-height)\" },\r\n        },\r\n        \"accordion-up\": {\r\n          from: { height: \"var(--radix-accordion-content-height)\" },\r\n          to: { height: \"0\" },\r\n        },\r\n        \"fade-in\": {\r\n          from: { opacity: \"0\" },\r\n          to: { opacity: \"1\" },\r\n        },\r\n        \"fade-in-up\": {\r\n          from: { opacity: \"0\", transform: \"translateY(20px)\" },\r\n          to: { opacity: \"1\", transform: \"translateY(0)\" },\r\n        },\r\n        \"slide-up\": {\r\n          from: { opacity: \"0\", transform: \"translateY(20px)\" },\r\n          to: { opacity: \"1\", transform: \"translateY(0)\" },\r\n        },\r\n        \"slide-in-right\": {\r\n          from: { opacity: \"0\", transform: \"translateX(20px)\" },\r\n          to: { opacity: \"1\", transform: \"translateX(0)\" },\r\n        },\r\n        \"scale-in\": {\r\n          from: { opacity: \"0\", transform: \"scale(0.95)\" },\r\n          to: { opacity: \"1\", transform: \"scale(1)\" },\r\n        },\r\n        shimmer: {\r\n          \"0%\": { transform: \"translateX(-100%)\" },\r\n          \"100%\": { transform: \"translateX(100%)\" },\r\n        },\r\n        \"pulse-gold\": {\r\n          \"0%, 100%\": { boxShadow: \"0 0 0 0 hsl(43 65% 56% / 0.4)\" },\r\n          \"50%\": { boxShadow: \"0 0 0 12px hsl(43 65% 56% / 0)\" },\r\n        },\r\n        float: {\r\n          \"0%, 100%\": { transform: \"translateY(0)\" },\r\n          \"50%\": { transform: \"translateY(-5px)\" },\r\n        },\r\n      },\r\n      animation: {\r\n        \"accordion-down\": \"accordion-down 0.2s ease-out\",\r\n        \"accordion-up\": \"accordion-up 0.2s ease-out\",\r\n        \"fade-in\": \"fade-in 0.3s ease-out forwards\",\r\n        \"fade-in-up\": \"fade-in-up 0.5s ease-out forwards\",\r\n        \"slide-up\": \"slide-up 0.4s ease-out forwards\",\r\n        \"slide-in-right\": \"slide-in-right 0.3s ease-out forwards\",\r\n        \"scale-in\": \"scale-in 0.3s ease-out forwards\",\r\n        shimmer: \"shimmer 2s infinite\",\r\n        \"pulse-gold\": \"pulse-gold 2s ease-in-out infinite\",\r\n        float: \"float 3s ease-in-out infinite\",\r\n      },\r\n    },\r\n  },\r\n  plugins: [require(\"tailwindcss-animate\")],\r\n} satisfies Config;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\vite.config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Cuper\\.gemini\\antigravity\\scratch\\happy-style-market\\vitest.config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]}]
